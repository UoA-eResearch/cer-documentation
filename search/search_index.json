{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["trimmer","stopWordFilter"]},"docs":[{"location":"","title":"Start here","text":"<p>This is just a temporary landing page.</p> <p>A longer post including some theory of documentation and showcasing the abilities of this documentation (i.e., MKDocs Material) can be found here</p> <p>The category 'Codelab' has a special purpose. It showcases the ability to create a multi-step tutorial and incorporates several neat features to improve the User Experience (in summary: Instead of a wall of text the content is broken down into small steps, each step is a separate page, and the user can navigate through the steps using the navigation).</p> <p>The category 'Projects' mainly contains the ingested CeR Services Handbook (previously called VM Handbook) which is intended to be replaced and currently is hosted here</p> <p>MyTardis or the Instrument Data Service (IDS) is shown in the respective sub-category of Research Data. It currently contains:</p> <ul> <li>The Ingestion Wizard</li> <li>and current implementation of a code reference (i.e. not intended for the general end-user but for people working on the codebase) but a GoogleDocstring-based reference.</li> </ul>"},{"location":"#decisions-to-be-made","title":"Decisions to be made:","text":"<p>We will have to agree on the following:</p> <ul> <li>do we want to use this solution?</li> <li>what are the top-level categories</li> <li>what are the sub-categories</li> <li>what content is</li> <li>existing (up to date, vs. needs update)</li> <li>needs to be added</li> <li>should be pointed at</li> </ul>"},{"location":"Research%20Compute/01ResearchCompute/","title":"Overview","text":"<p>The Waipapa Taumata Rau The University of Auckland, provides a number of services to support researchers with their computational needs.</p> <p>These are introduced in the following pages.</p> <p>To provide rough guidance: </p> <ul> <li>If you need to process a large amount of data, or run a complex simulation, you will need to use a High Performance Computing (HPC) system. Some also call this a Supercomputer.</li> <li>If you need a virtual machine (VM)...<ul> <li>you can either use the Waipapa Taumata Rau The University of Auckland  Research VM Farm</li> <li>or if you need a GPU, have less sensitive data, want more liberty, you can use the Nectar Research Cloud</li> </ul> </li> </ul>"},{"location":"Research%20Compute/NeSI/","title":"What is High Performance Computing","text":"<p>If you have a large amount of data to process, or a complex simulation to run, and your local computers take too long to finish this, you may need to use a High Performance Computing (HPC) system. Some also call this a Supercomputer.</p>"},{"location":"Research%20Compute/NeSI/#what-is-nesi","title":"What is NeSI","text":"<p>The University of Auckland has access to the National eScience Infrastructure (NeSI). Among other services, NeSI provides us with access to a HPC system.</p>"},{"location":"Research%20Compute/NeSI/#rough-outline-of-interacting-with-the-nesi-hpc","title":"Rough outline of interacting with the NeSI HPC","text":"<p>Most of the HPC services run Linux (or a UNIX derivative) as their operating system. This means that you will have to use the command line to interact with the system. Because you do not get access to the whole supercomputer by yourself, but you have to share these precious resources with many other researchers there is a scheduling system. This means that you have to submit your jobs to a queue and wait for them to be executed.  There is a job scheduling system (SLURM) and NeSI provides tutorials for it.</p> <p>Tip</p> <p>While some researchers report having to wait for a long time for their jobs to be executed, others report that their jobs are executed within minutes. This depends on the size of your job and the current load of the system. Try splitting jobs as much as possible instead of running one big job, run 10 smaller ones</p>"},{"location":"Research%20Compute/NeSI/#getting-data-to-and-from-nesi","title":"Getting data to and from NeSI","text":"<p>Commonly, researchers need to upload data to the HPC system and download results from it. A Research Drive (link) is often the easiest way to do this. As NeSI is outside the {{ instutition_name }} firewall, you will need to use a piece of software called Globus for this. More information can be found here LINK  You can use the NeSI Data Transfer Platform to transfer data to and from NeSI. This is a web-based tool that allows you to upload and download data. It is also possible to use the command line to transfer data, but this is more complicated.</p>"},{"location":"Research%20Compute/Nectar/","title":"Nectar","text":"<p>The Nectar Research Cloud is an excellent resource for researchers to get access to a wide range of computational resources.</p> <p>More details and a link to access it can be found on the Research Hub. </p> <p>One common challenge is not to select the correct button for New Zealand. </p> <ul> <li>mostly refer people to the (wonderful) documentation on the Nectar pages</li> <li>what is lacking:</li> <li>how to install Windows</li> <li>discuss a bit what Win10 vs. Server 2016 have for advantages/drawbacks</li> <li>how the Service Units are calculated. Give one example. </li> </ul>"},{"location":"Research%20Compute/UoAResearchVM%20Farm/","title":"The UoA Research VM Farm","text":"<p>The Waipapa Taumata Rau The University of Auckland Research VM Farm is a service to support researchers with their computational needs. General information can be found on the Research Hub. </p>"},{"location":"Research%20Compute/UoAResearchVM%20Farm/#deciding-what-service-to-use","title":"Deciding what service to use","text":"<p>The following summary highlights the advantages of the Research VM Farm over  Nectar.</p> <ul> <li>Research VM Farm VMs are internal to the Waipapa Taumata Rau The University of Auckland  firewall<ul> <li>As such, they can be considered a better fit for sensitive data (see the Research Data Classification Standard depending on your Ethics Approval if needed)</li> <li>can access/mount/map a Research Drive</li> </ul> </li> <li>You will recieve more support by CeR and others than Nectar which is self-service </li> <li>no GPU</li> <li>Windows Server</li> </ul> <p>*[CeR] Centre for eResearch</p>"},{"location":"Research%20Data/ResearchDataOverview/","title":"Research Data Overview","text":"<p>This section provides an overview of the research data that is used in the research project and relevant stages. These are introduced in this category.</p> <ul> <li>Research Data has to be stored</li> <li>Research Data has to be transferred (within a research group or across the group)</li> <li>Research Data is often published </li> </ul>"},{"location":"Research%20Data/Data%20Publication/Figshare/","title":"Figshare","text":"<p>Figshare is a data publishing platform intended to publish files or artifacts that are not expected to change over time. At Waipapa Taumata Rau The University of Auckland we have access to an institutional instance of Figshare. More details to be found here.</p> <p>While a thesis and other research publications are managed by the Library, Figshare is intended for other research data such as videos, images, or datasets. These are often referenced in a publication via a Data Availability Statement. </p> <p>Publications on Figshare get a digital object identifier (DOI) assigned whose version-number will be increased if a change is executed. See this example <code>https://doi.org/10.17608/k6.auckland.16599404.v1</code> versus <code>https://doi.org/10.17608/k6.auckland.16599404.v2</code>.</p>"},{"location":"Research%20Data/Data%20Publication/Figshare/#common-issues","title":"Common issues","text":"<p>A common mistake is not to be aware of the difference between</p> <ul> <li><code>https://figshare.com/</code> is the commercial service</li> <li><code>[https://figshare.auckland.com/</code> our/the Waipapa Taumata Rau The University of Auckland instance of <code>figshare.com</code></li> </ul> <p>Moreover, </p> <ul> <li>file size limitations (2GB per file)</li> <li>uploading many files is challenging</li> <li>videos should be optimised (downscaled, efficient codec)</li> </ul>"},{"location":"Research%20Data/Data%20Publication/Figshare/#good-examples-videos","title":"Good examples (videos)","text":"<p>The following examples shall showcase good practices published on Figshare.</p> <ul> <li>Mate Tipu Mate R\u0101kau</li> <li>Unlocking the challenge of writing audience-focused evidence-based impact narratives</li> </ul>"},{"location":"Research%20Data/Data%20Publication/Figshare/#figshare-branded-group-sites","title":"Figshare branded Group sites","text":"<p>Figshare allows to create branded group sites. This is a good option for research groups that want to publish their data on Figshare. Examples are to be found here. </p>"},{"location":"Research%20Data/Data%20Storage/ResearchDataStorageOverview/","title":"Research Data Overview","text":"<p>At Waipapa Taumata Rau The University of Auckland, we have access to several services that allow us to store research data. This section provides an overview of the research data that is used in the research project and relevant stages. These are introduced in this category.</p> <p>Initial guidance in selecting the most appropriate option on the Research Hub's \"Choosing data storage\".</p> <p>The two main options are:</p> <ul> <li>Dropbox for Researchers</li> <li>Research Drive</li> </ul>"},{"location":"Research%20Data/Data%20Storage/Dropbox/Dropbox/","title":"Background","text":"<p>At Waipapa Taumata Rau The University of Auckland, we can provide an institutional license to Dropbox** which is a commercial cloud storage service. Detailed information (including how to access it) can be found on the Research Hub. </p> <p>Currently, this means that you get unlimited storage space for your research data.</p> <p>Bug</p> <pre><code>make sure that the latest update if there is an ATO by CISO to use Dropbox for sensitive data\n</code></pre> <p>You invite external collaborators by sharing a sub-folder (this is an important distinction with more guidance provided here), which enables these to also upload a theoretically unlimited amount of data. You are responsible for keeping track and potentially revoking access to these folders.</p>"},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-personal-account/","title":"How to handle a personal Dropbox Account using your @auckland.ac.nz email address","text":"<p>Some researchers have already used their Waipapa Taumata Rau The University of Auckland email address to sign up for a personal (at times even a paid) Dropbox account. To access the Institutional Dropbox license, you need to unlink your personal/paid account first.</p> <p>A summary of the required steps is given in the following illustration: </p>"},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-share-subfolder/","title":"How to share data with Dropbox","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-share-subfolder/#prerequisites","title":"1. Prerequisites","text":"<ul> <li>You need to have access to an Institutional Dropbox License. More info, including the request, can be found here. </li> <li>You need to be aware of the data sensitivity</li> <li>While Dropbox offers clients for many operating systems (i.e., small pieces of software to be installed on your device), this guide focuses on the web interface </li> <li>in other words: You should use your browser and go to Dropbox.com to follow the steps.</li> </ul> <p>Bug</p> <pre><code>check ATO for Dropbox by CISO\n</code></pre>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-share-subfolder/#accessing-dropbox-through-the-browser","title":"2. Accessing Dropbox through the Browser","text":"<p>Use your preferred browser and go to Dropbox.com.</p> <ul> <li>Click the Log in button. </li> <li>Do not use the Google or other Sign-In options, make sure to use email </li> <li>Use your <code>@auckland.ac.nz</code> email address (you are likely to be redirected to the institutional login page)</li> <li>In case you have already used this email account, please reach out to the CeR.</li> </ul> <p>(Advanced): You can also access your personal Dropbox account and link it to your institutional account but this exceeds the scope of this guide.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-share-subfolder/#sharing-a-sub-folder","title":"3. Sharing a sub-folder","text":"<ul> <li>in the process of requesting a Dropbox license, you have been asked to provide a name for your top-level folder. This is the folder that you see when you log in to Dropbox. For this example, we assume that you have named it <code>MyResearchProject</code>.</li> <li>Navigate to the <code>MyResearchProject</code> folder </li> <li>Click on <code>Create</code> and then <code>Folder</code></li> <li></li> <li>You will be asked if this shall be automatically shared with all others that have full access (in other words, also an Institutional Dropbox license and were added in the original or a follow-up request posted to the CeR)</li> <li></li> <li>After this folder has been created and you are automatically redirected to it (or you have manually navigated to it), you can share it with others   </li> </ul> <p>Warning</p> <pre><code>it is of utmost importance that you **share the sub-folder** and not the top-level folder.\n</code></pre>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/Dropbox/dropbox-share-subfolder/#users-you-shared-the-folder-with","title":"4. Users you shared the folder with","text":"<p>Once you have completed the previous steps, each user that you have shared the folder with will receive an email notification. You can also check the list of users that you have shared the folder with by right-clicking the folder that you want to inspect and selecting 'Manager Permissions'.  External collaborators can upload files (imagine an overseas collaborator wanting to share a large dataset with you) and still stay within the storage limits of your institutional license -  which is currently unlimited.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/01-what-is-wizard/","title":"What is Instrument Data Service and Instrument Data Wizard?","text":"<p>At Waipapa Taumata Rau The University of Auckland, Instrument Data Service is the place to store your research data from scientific instruments.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/02-adding-to-existing-structure/","title":"Adding data to existing Projects, Experiments or Datasets in the data repository","text":""},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/03-data-dictionary/","title":"Creating a data dictionary","text":"<p>By creating a data dictionary, you can clarify what metadata you need to collect for your data. It can also help you record <code>Parameter</code> names and values consistently, using the same letter casing and units. This will help with finding your data in the future. </p> <p>For example, if you have a Parameter representing a length, decide on the name (e.g. \"distance\", no uppercase) and the value unit (e.g. millimetre), and use them consistently.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/04-finding-instrument-id/","title":"Finding my instrument's persistent identifier (PID)","text":""},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/05-identifiers/","title":"Identifiers for Projects, Experiments and Datasets","text":"<ul> <li>Identifiers for Projects, Experiments and Datasets<ul> <li>What should I use as an identifier for my Project?</li> <li>What should I use as an identifier for my Experiment?</li> <li>What should I use as an identifier for my Dataset?</li> </ul> </li> </ul> <p>Identifiers are labels that distinguish a Project, Experiment or Dataset from others in Instrument Data Service. You can use the field to store a meaningful code or label decided by you or your research group, as well as IDs assigned by external organisations such as a national research information system or your institution. This can help you find your data later through the search functionality in Instrument Data Service.</p> <p>An identifier can contain letters, numbers, spaces and other special symbols. An identifier must be unique to the class of objects it is applied to. For example, a Project's identifier must not be the same as another Project's. A Project, Experiment or Dataset may have multiple identifiers.</p> <p>In the Instrument Data Wizard, you must specify at least one identifier for each Project, Experiment and Dataset.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/05-identifiers/#what-should-i-use-as-an-identifier-for-my-project","title":"What should I use as an identifier for my Project?","text":"<p>You can use:</p> <ul> <li>an externally-assigned identifier such as a Research Activity ID (RAID), if available. </li> <li>your institution's project code for the project, if available.</li> <li>The project name or another unique designation.</li> </ul> <p>More identifiers can be added to the Project after importing.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/05-identifiers/#what-should-i-use-as-an-identifier-for-my-experiment","title":"What should I use as an identifier for my Experiment?","text":"<p>You can use:</p> <ul> <li>A code for the experiment, if your research group has a coding system for individual experiments.</li> <li>The experiment name or another unique designation.</li> </ul> <p>More identifiers can be added to the Experiment after importing.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/05-identifiers/#what-should-i-use-as-an-identifier-for-my-dataset","title":"What should I use as an identifier for my Dataset?","text":"<p>You can use:</p> <ul> <li>A code for the dataset, if your research group has a coding system for individual datasets.</li> <li>The dataset name or another unique designation</li> </ul> <p>The identifier must be unique across all Datasets. There may be cases where you want to use the dataset name as the identifier, and there are similarly named Datasets. For example, you may have two experiments that use the same microscopy instrument, and the acquired images are stored in a Dataset in each Experiment, both named \"Microscopy\". To keep the identifiers unique, you can prefix the two identifiers with the identifier of the Experiment the dataset falls under, to distinguish between them.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/01-start/","title":"Tutorial: Annotating your first dataset","text":"<p>Welcome! This tutorial will help you annotate a dataset using the Instrument Data Wizard, in preparation for ingestion into Instrument Data Service.</p> <p>Example</p> <p>This tutorial will follow a fictional scenario. You are Sarah , a PhD student collecting data for your cancer genomics research, and you would like to store that data in your University's instrument data repository.</p> <p>What is the Instrument Data Wizard?</p> <p>If you're not familiar with what Instrument Data Service and Instrument Data Wizard do, and how they work together, check out this first.</p> <p>By the end of this tutorial, you will learn about the Instrument Data Wizard and Instrument Data Service, and how to:</p> <ul> <li>decide on a structure for your data for Instrument Data Service.</li> <li>import data files into the Instrument Data Wizard and add structure     to it.</li> <li>annotate your data with metadata</li> <li>restrict access to your data or subset of the data</li> <li>export the metadata</li> </ul> <p>If you want to follow along on your computer, please install Instrument Data Wizard, download the tutorial data, and unzip it on your desktop. This data will be used in the rest of the tutorial.</p> <p> Download the tutorial-data.zip file here</p> <p>Contact Chris Seal if you need assistance getting set up on Instrument Data Service.</p> <p>Ready? Let's begin!</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/","title":"Decide how to describe and structure your data","text":"<p>Before we start using the Instrument Data Wizard, it's good to plan out and document how your data will be structured for Instrument Data Service, so you and your collaborators (and your future self!) will easily be able to find and use your data in the Instrument Data Service web portal.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/#how-instrument-data-service-structures-data","title":"How Instrument Data Service structures data","text":"<p>At its heart, Instrument Data Service is a database. Data are organised in a hierarchical structure, like folders and subfolders. There are three levels. You need to decide how to structure your data to fit in with this hierarchy.</p> <p></p> <ul> <li>Data files are grouped into Datasets.</li> <li>Datasets are organised into Experiments.</li> <li>Experiments belong to a Project.</li> </ul> <p>A Dataset may belong to multiple Experiments, and an Experiment may belong to multiple Projects.</p> <p>At each level of the hierarchy and at the individual file level, there are mandatory metadata fields that you can use to describe your data. There is also the ability to associate a custom metadata schema at each level, which allows you to record any relevant domain-specific observations and variables. The Instrument Data Service Search functionality allows you to filter for data based on metadata.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/#things-to-consider","title":"Things to consider","text":"<p>Here are some things to consider when deciding how your data should fit into this hierarchy:</p> <p></p> <ul> <li>Usually, there should be one Project that corresponds to the research project or unit of research activity that you are collecting data for.</li> <li>Use Experiments to represent a study sample or variable you are studying. Store properties about the sample as metadata in each Experiment.</li> <li>Create one Dataset for each instrument you are using for acquiring data. Use the Dataset to contain all data files from that instrument for the Experiment. Store instrument run conditions as metadata in each Dataset.</li> <li>If the data is already using a directory structure, consider how that could translate into the hierarchical groupings.</li> <li>Consider whether you need to restrict access for a subset of your data. If so, you can group them as separate Experiments or Datasets. Later, you can restrict access to them as a whole group.</li> </ul>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/#sarahs-sequencing-data","title":"Sarah's sequencing data","text":"<p>As Sarah, you are studying how breast cancer cells respond to different drug treatments. You work closely within a group of three other PhD students led by Dr Charlotte Henare.</p> <p>To collect data, you take samples of cancer cells from an anonymous donor from the Hospital, treating the samples with drugs, and sending them off to a sequencing company for processing.</p> <p>You sent off 15 cell samples (5 for each group) six weeks ago that have:</p> <ol> <li>no treatment,</li> <li>treatment with the drug Herceptin, and</li> <li>treatment with the drug Keytruda.</li> </ol> <p>The tutorial data you downloaded are the resulting files sent through a USB stick via courier. The data contains the raw <code>*.fastq</code> files as well as aligned <code>*.bam</code> files (data processed by a bioinformatician) for each kind of treatment. </p> <p>Example</p> <p>You are now responsible for organising, setting up access control and adding metadata to the data, before it is ingested into the University's online instrument data repository Instrument Data Service . You and your group members can then access the data through the repository portal and use it in analysis.</p> <p>Because the raw data is sensitive and could lead to the identification of patients, any raw data should only be accessible to yourself. Other data can be accessed by the whole group (with the group ID <code>eres004011-admin</code>)</p> <p>After a discussion with your collaborators, you have created this data structure plan.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/#sample-data-structure-plan","title":"Sample data structure plan","text":"<ul> <li>Project - The Project is called \u201cBreast Cancer Drug Treatment Genomics\u201d project, with the ID \u201cBREAST04\u201d.</li> <li>Experiments - One experiment for each treatment type (i.e. \u201cNo treatment\u201d with ID \u201cNoTreatment\u201d, \u201cHerceptin\u201d with ID \u201cHerceptin\u201d, Keytruda with ID \u201cKeytruda\u201d).</li> <li>Datasets - In each Experiment, there would be two Datasets: one for raw <code>.fastq</code> files named \u201cRaw\u201d with ID \u201c[Treatment ID]-Raw\u201d, and another for aligned <code>.bam</code> files named \u201cAligned\u201d with ID \u201c[Treatment ID]-Aligned\u201d.</li> <li>Datafiles - Under each Dataset, there would be five files, one file from each tissue sample.</li> <li>Clinical details and sequencing instrument configurations will be recorded as metadata at the Dataset level.</li> </ul> <pre><code>Project: \u201cBreast Cancer Drug Treatment Genomics\u201d - ID \u201cBREAST04\u201d/\n\u251c\u2500 Experiments: (One experiment per treatment)/\n\u2502  \u251c\u2500 \u201cNo treatment\u201d with ID \u201cNoTreatment\u201d/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 2\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 3\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 4\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 5\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u251c\u2500 \"Keytruda\" (with ID \u201cKeytruda\u201d)/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u251c\u2500 \u201cHerceptin\u201d with ID \u201cHerceptin\u201d/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\n(Clinical details and sequencing instrument configuration)\n</code></pre> <p>Exercise: How does your own data fit into this hierarchy?</p> <p>Think about the data you would like to ingest into Instrument Data Service and discuss it with your collaborators. Plan out how you would structure the data. Ask for a consultation with the friendly Instrument Data Service staff if you would like some help!</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/03-import-data/","title":"Import your data into the Instrument Data Wizard","text":"<p>To import your data into the Instrument Data Wizard, open the Wizard and click the <code>Import data files</code> button.</p> <p></p> <p>A step-by-step wizard will show up, with the first page giving a brief introduction to the Instrument Data Service hierarchy.</p> <p></p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/03-import-data/#add-the-first-project-experiment-dataset-and-datafiles","title":"Add the first Project, Experiment, Dataset and Datafiles","text":"<p>Click Next. In the subsequent dialogs, the wizard will ask you where you would like to organise your data. Because we are starting with a blank metadata file, the wizard will ask you to create a new Project, Experiment and Dataset. </p> <p>As Sarah, you would like to import your raw data for the Keytruda trial. See if you can re-create this hierarchy in the Instrument Data Wizard:</p> Level Cell Input text Project Proiect name Breast Cancer Drug Treatment Genomics Proiect identifier BREAST04 Principal Investigator UPI123 Description My nice description of the project. Experiment Experiment name Keytruda Experiment identifier Keytruda Description My nice description of the experiment. Dataset Dataset name Raw Dataset identifier Keytruda-Raw Instrument identifier BiruVSlide1 Datafiles all .fastq files <code>tutorial-data/keytruda/</code>. <p>The instrument ID (the persistent identifier, <code>PIDINST</code>) will be provided by the Facility Manager.</p> <p>Once finished, your editor should look like this.</p> <p></p> <p>What if I want to add data into an existing <code>Project</code> in the repository?</p> <p>If there is already a Project for your data in the data repository, you need to import it into the Instrument Data Wizard before you can start adding files to it. You can follow the instructions for Adding data to existing Projects, Experiments or Datasets.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/03-import-data/#add-more-data","title":"Add more data","text":"<p>What if you have files you need to organise separately from the initial import? Or if you need to add more files into the same dataset? For example, you may wish to ingest more than one sample or instrument run data files.</p> <p>You can click the <code>Import data files</code> button again, and the step-by-step wizard will prompt you to add files and ask how you would like to organise them.</p> <p></p> <p>You can also right-click on the <code>Project</code>, <code>Experiment</code> or <code>Dataset</code> you would like to add more data to, and select the <code>Add Experiment</code>, <code>Add Dataset</code> or <code>Add files</code> options.</p> <p>As Sarah, you also have some raw data in the Herceptin trial you would like to import. </p> <p>After clicking the <code>Import data files</code> button and going through the initial explanation screen, you will now be presented with a choice to add files to an existing <code>Project</code>, or create a new <code>Project</code>. </p> <p></p> <p>Since this is data for the same project, choose the \"Breast Cancer Drug Treatment Genomics\" <code>Project</code>.</p> <p>Then proceed through the rest of the wizard using this setup.</p> <ul> <li>Create a new Experiment with name \"Herceptin\", and ID \"Herceptin\".</li> <li>Create a new Dataset with the name \"Raw\", and ID \"Herceptin-Raw\".</li> <li>Data files: Add the <code>.fastq</code> files in the tutorial data folder, under <code>tutorial/herceptin/</code>. Once finished, your editor should look like this.</li> </ul> <p></p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/03-import-data/#save-your-progress","title":"Save your progress","text":"<p>Instrument Data Wizard keeps all your data structure and annotations in an YAML-formatted ingestion file. This file is read by the Instrument Data Service ingestion process to find all your data files. It needs to be saved in the root folder of your data.</p> <p>Click the Save button, and save your ingestion file under the tutorial data folder. Name it <code>ingestion.yaml</code>. </p> <p>Note</p> <p>Remember to save your changes as you work! As the Instrument Data Wizard is still being developed, bugs and crashes may happen at inopportune moments. After a crash, you can reopen the file using the <code>Open</code> button.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/03-import-data/#exercise-add-even-more-data","title":"Exercise: Add even more data","text":"<p>Try to re-create the hierarchy in the Instrument Data Wizard as described in the :ref:<code>example data structure plan &lt;sample-data-structure-plan&gt;</code>.</p> <p>Once finished, your editor should look like this.</p> <p></p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/","title":"Annotate your data with metadata","text":"<p>Now that your files are imported and organised, you can start annotating them. This step is vital to make the most use of the Instrument Data Service.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#basic-metadata-fields","title":"Basic metadata fields","text":"<p>In Instrument Data Service, there is a basic set of metadata fields applicable for any Projects, Experiments, Datasets or Datafiles. They are fields like <code>name</code>, <code>ID</code>, <code>author</code> and <code>institution</code>.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#additional-metadata-with-schemas","title":"Additional metadata with Schemas","text":"<p>In addition, you can attach more metadata to a Project, Experiment, Dataset or Datafile through <code>Schemas</code>. They are made up of custom metadata fields called <code>Parameters</code>. You can specify the <code>Parameter</code> name and the value data type (for example, you can restrict the value to be a number, a string of characters, or a date.) </p> <p><code>Schemas</code> need to be defined in Instrument Data Service before you can use them in Instrument Data Wizard. </p> <p>A Project, Experiment, Dataset or Datafile can have multiple <code>Schemas</code> associated with them.</p> <p>What can I store in Schemas?</p> <p>You can associate domain- or instrument-specific metadata with a Project, Experiment, Dataset or Datafile using <code>Schemas</code>. One way to use <code>Schema</code> could be to describe the study or treatment you have applied to the sample. Alternatively, you may wish to note down the instrument configuration used for acquiring data. For example, data from a sequencer may benefit from a <code>Schema</code> with depth of sequencing and sequencing method as <code>Parameters</code>.</p> <p>It's best to create a data dictionary document with your collaborators to specify what metadata should be stored. See data dictionary. </p> <p>As part of onboarding, Instrument Data Service can support you in creating a data dictionary, and create any <code>Schemas</code> for your research group. Contact Chris Seal for more information.</p> <p>In the Instrument Data Wizard, first select the Project, Experiment, Dataset or Datafile you wish to edit, then you can change metadata on the right-hand pane.</p> <p></p> <p>The <code>Description</code> tab contains the basic metadata fields, while the <code>Metadata</code> tab contains the <code>Schema</code> metadata fields.</p> <p>At the moment, the Instrument Data Wizard accepts free-text <code>Parameter</code> names and values.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#recording-sarahs-metadata","title":"Recording Sarah's metadata","text":"<p>As Sarah, you have two things you need to include in the metadata. You need to note down the instrument the sequencing was done on, and the sequence depth used. In genetics, sequence depth measures the completeness of the sequencing process.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#adding-the-instrument-id","title":"Adding the instrument ID","text":"<p>To record the instrument, you first need to find the instrument's persistent identifier (PID). For Sarah, the sequencing company has given her the ID <code>http://hdl.handle.net/21.T11998/0000-001A-3904-0</code>.</p> <p>Where can I find my instrument's persistent identifier?</p> <p>You can log in to the Instrument Data Service web portal to find the ID. See here.</p> <p>Instrument is a basic metadata field, so you can find it in the <code>Description</code> tab, as the <code>Instrument ID</code> field.</p> <p>After filling out the field, the editor should look like this.</p> <p></p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#adding-the-sequence-depth","title":"Adding the sequence depth","text":"<p>You have decided with your team that sequence depth should be recorded as a <code>Schema Parameter</code> on each <code>Experiment</code>, with the name <code>Depth of sequencing</code>, and value as an integer.</p> <p>Try adding 100 as the sequence depth for the Herceptin <code>Experiment</code>. Once finished, your editor should look like this.</p> <p></p> <p>If you need to delete a <code>Parameter</code> row, select that row, then click the <code>Remove</code> button.</p> <p>Keep your <code>Schema</code> names and values consistent</p> <p>Record <code>Parameter</code> names and values consistently, using the same letter casing and units. This will help with finding your data in the future. For example, if you have a <code>Parameter</code> representing a length, decide on the name (e.g. \"distance\", no uppercase) and the value unit (e.g. millimetre), and use them consistently.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/04-metadata/#exercise-adding-more-metadata","title":"Exercise: Adding more metadata","text":"<ol> <li> <p><code>Lead Researcher</code> is another basic metadata field on <code>Projects</code>. Try adding yourself as the lead researcher in the <code>Project</code>, using Sarah's University username <code>skau921</code>.</p> <p>Your editor should look like this:</p> <p></p> </li> <li> <p>For the Herceptin experiment, there was an error in the sequencing process. You would like to mark it as inaccurate. Decide on how you would represent this, then annotate the experiment.</p> <p>This is one way you may like to add this:</p> <p></p> </li> </ol>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/05-access-control/","title":"Restrict access to your data","text":"<p>In the Instrument Data Wizard, you can define which users or groups of users have access to your data in the Instrument Data Service. </p> <p>Instrument Data Service has a cascading access control mechanism which allows you to apply restrictions on which users or groups of users can access a file or a group of files. Permissions granted at a higher level of the hierarchy will cascade down to all the files nested in it unless explicitly overridden.</p> <p>Users must have an account created in Instrument Data Service in order to access the data.</p> <p>Adding Restrictions on your own data</p> <p>Think about who needs to be able to access your data. What kind of access should they have? If there's a subset of the data that should be accessible to more or fewer people, how should they be organised?</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/06-export/","title":"Save the ingestion file","text":"<p>Once you are finished organising and annotating your data, you can save the ingestion file for the last time. Ensure to save the ingestion file in the root of your data folder.</p> <p>Your data folder should look like this.</p> <p></p> <p>We are finished! When your data is copied and ingested into Instrument Data Service , the ingestion file will be examined for a list of data files, how they should be structured, metadata associated with them, and access control properties. If there are any errors or validation problems in the process, you will be notified.</p> <p>This is the end of this introductory tutorial. Please contact Chris Seal for any further questions.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/","title":"Using the IDS Wizard","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#annotating-your-first-dataset","title":"1. Annotating your first dataset\u00b6","text":"<p>Welcome! This tutorial will help you annotate a dataset using the Instrument Data Wizard, in preparation for ingestion into Instrument Data Service.</p> <p>Example</p> <p>This tutorial will follow a fictional scenario. You are Sarah , a PhD student collecting data for your cancer genomics research, and you would like to store that data in your University's instrument data repository.</p> <p>What is the Instrument Data Wizard?</p> <p>If you're not familiar with what Instrument Data Service and Instrument Data Wizard do, and how they work together, check out this first.</p> <p>By the end of this tutorial, you will learn about the Instrument Data Wizard and Instrument Data Service, and how to:</p> <ul> <li>decide on a structure for your data for Instrument Data Service.</li> <li>import data files into the Instrument Data Wizard and add structure     to it.</li> <li>annotate your data with metadata</li> <li>restrict access to your data or subset of the data</li> <li>export the metadata</li> </ul> <p>If you want to follow along on your computer, please install Instrument Data Wizard, download the tutorial data, and unzip it on your desktop. This data will be used in the rest of the tutorial.</p> <p> Download the tutorial-data.zip file here</p> <p>Contact Chris Seal if you need assistance getting set up on Instrument Data Service.</p> <p>Ready? Let's begin!</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#decide-how-to-describe-and-structure-your-data","title":"2. Decide how to describe and structure your data","text":"<p>Before we start using the Instrument Data Wizard, it's good to plan out and document how your data will be structured for Instrument Data Service, so you and your collaborators (and your future self!) will easily be able to find and use your data in the Instrument Data Service web portal.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#how-instrument-data-service-structures-data","title":"How Instrument Data Service structures data","text":"<p>At its heart, Instrument Data Service is a database. Data are organised in a hierarchical structure, like folders and subfolders. There are three levels. You need to decide how to structure your data to fit in with this hierarchy.</p> <p></p> <ul> <li>Data files are grouped into Datasets.</li> <li>Datasets are organised into Experiments.</li> <li>Experiments belong to a Project.</li> </ul> <p>A Dataset may belong to multiple Experiments, and an Experiment may belong to multiple Projects.</p> <p>At each level of the hierarchy and at the individual file level, there are mandatory metadata fields that you can use to describe your data. There is also the ability to associate a custom metadata schema at each level, which allows you to record any relevant domain-specific observations and variables. The Instrument Data Service Search functionality allows you to filter for data based on metadata.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#things-to-consider","title":"Things to consider","text":"<p>Here are some things to consider when deciding how your data should fit into this hierarchy:</p> <p></p> <ul> <li>Usually, there should be one Project that corresponds to the research project or unit of research activity that you are collecting data for.</li> <li>Use Experiments to represent a study sample or variable you are studying. Store properties about the sample as metadata in each Experiment.</li> <li>Create one Dataset for each instrument you are using for acquiring data. Use the Dataset to contain all data files from that instrument for the Experiment. Store instrument run conditions as metadata in each Dataset.</li> <li>If the data is already using a directory structure, consider how that could translate into the hierarchical groupings.</li> <li>Consider whether you need to restrict access for a subset of your data. If so, you can group them as separate Experiments or Datasets. Later, you can restrict access to them as a whole group.</li> </ul>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#sarahs-sequencing-data","title":"Sarah's sequencing data","text":"<p>As Sarah, you are studying how breast cancer cells respond to different drug treatments. You work closely within a group of three other PhD students led by Dr Charlotte Henare.</p> <p>To collect data, you take samples of cancer cells from an anonymous donor from the Hospital, treating the samples with drugs, and sending them off to a sequencing company for processing.</p> <p>You sent off 15 cell samples (5 for each group) six weeks ago that have:</p> <ol> <li>no treatment,</li> <li>treatment with the drug Herceptin, and</li> <li>treatment with the drug Keytruda.</li> </ol> <p>The tutorial data you downloaded are the resulting files sent through a USB stick via courier. The data contains the raw <code>*.fastq</code> files as well as aligned <code>*.bam</code> files (data processed by a bioinformatician) for each kind of treatment. </p> <p>Example</p> <p>You are now responsible for organising, setting up access control and adding metadata to the data, before it is ingested into the University's online instrument data repository Instrument Data Service . You and your group members can then access the data through the repository portal and use it in analysis.</p> <p>Because the raw data is sensitive and could lead to the identification of patients, any raw data should only be accessible to yourself. Other data can be accessed by the whole group (with the group ID <code>eres004011-admin</code>)</p> <p>After a discussion with your collaborators, you have created this data structure plan.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#sample-data-structure-plan","title":"Sample data structure plan","text":"<ul> <li>Project - The Project is called \u201cBreast Cancer Drug Treatment Genomics\u201d project, with the ID \u201cBREAST04\u201d.</li> <li>Experiments - One experiment for each treatment type (i.e. \u201cNo treatment\u201d with ID \u201cNoTreatment\u201d, \u201cHerceptin\u201d with ID \u201cHerceptin\u201d, Keytruda with ID \u201cKeytruda\u201d).</li> <li>Datasets - In each Experiment, there would be two Datasets: one for raw <code>.fastq</code> files named \u201cRaw\u201d with ID \u201c[Treatment ID]-Raw\u201d, and another for aligned <code>.bam</code> files named \u201cAligned\u201d with ID \u201c[Treatment ID]-Aligned\u201d.</li> <li>Datafiles - Under each Dataset, there would be five files, one file from each tissue sample.</li> <li>Clinical details and sequencing instrument configurations will be recorded as metadata at the Dataset level.</li> </ul> <pre><code>Project: \u201cBreast Cancer Drug Treatment Genomics\u201d - ID \u201cBREAST04\u201d/\n\u251c\u2500 Experiments: (One experiment per treatment)/\n\u2502  \u251c\u2500 \u201cNo treatment\u201d with ID \u201cNoTreatment\u201d/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 2\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 3\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 4\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 5\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u251c\u2500 \"Keytruda\" (with ID \u201cKeytruda\u201d)/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u251c\u2500 \u201cHerceptin\u201d with ID \u201cHerceptin\u201d/\n\u2502  \u2502  \u251c\u2500 Datasets/\n\u2502  \u2502  \u2502  \u251c\u2500 RAW (for raw .fastq files) with ID \u201c[Treatment ID]-Raw\"/\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2502  \u251c\u2500 Aligned for aligned .bam files with ID \u201c[Treatment ID]-Aligned\u201d\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 File 1\n\u2502  \u2502  \u2502  \u2502  \u251c\u2500 ...\n\n(Clinical details and sequencing instrument configuration)\n</code></pre> <p>Exercise: How does your own data fit into this hierarchy?</p> <p>Think about the data you would like to ingest into Instrument Data Service and discuss it with your collaborators. Plan out how you would structure the data. Ask for a consultation with the friendly Instrument Data Service staff if you would like some help!</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#import-your-data-into-the-instrument-data-wizard","title":"3. Import your data into the Instrument Data Wizard","text":"<p>To import your data into the Instrument Data Wizard, open the Wizard and click the <code>Import data files</code> button.</p> <p></p> <p>A step-by-step wizard will show up, with the first page giving a brief introduction to the Instrument Data Service hierarchy.</p> <p></p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#add-the-first-project-experiment-dataset-and-datafiles","title":"Add the first Project, Experiment, Dataset and Datafiles","text":"<p>Click Next. In the subsequent dialogs, the wizard will ask you where you would like to organise your data. Because we are starting with a blank metadata file, the wizard will ask you to create a new Project, Experiment and Dataset. </p> <p>As Sarah, you would like to import your raw data for the Keytruda trial. See if you can re-create this hierarchy in the Instrument Data Wizard:</p> Level Cell Input text Project Proiect name Breast Cancer Drug Treatment Genomics Proiect identifier BREAST04 Principal Investigator UPI123 Description My nice description of the project. Experiment Experiment name Keytruda Experiment identifier Keytruda Description My nice description of the experiment. Dataset Dataset name Raw Dataset identifier Keytruda-Raw Instrument identifier BiruVSlide1 Datafiles all .fastq files <code>tutorial-data/keytruda/</code>. <p>The instrument ID (the persistent identifier, <code>PIDINST</code>) will be provided by the Facility Manager.</p> <p>Once finished, your editor should look like this.</p> <p></p> <p>What if I want to add data into an existing <code>Project</code> in the repository?</p> <p>If there is already a Project for your data in the data repository, you need to import it into the Instrument Data Wizard before you can start adding files to it. You can follow the instructions for Adding data to existing Projects, Experiments or Datasets.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#add-more-data","title":"Add more data","text":"<p>What if you have files you need to organise separately from the initial import? Or if you need to add more files into the same dataset? For example, you may wish to ingest more than one sample or instrument run data files.</p> <p>You can click the <code>Import data files</code> button again, and the step-by-step wizard will prompt you to add files and ask how you would like to organise them.</p> <p></p> <p>You can also right-click on the <code>Project</code>, <code>Experiment</code> or <code>Dataset</code> you would like to add more data to, and select the <code>Add Experiment</code>, <code>Add Dataset</code> or <code>Add files</code> options.</p> <p>As Sarah, you also have some raw data in the Herceptin trial you would like to import. </p> <p>After clicking the <code>Import data files</code> button and going through the initial explanation screen, you will now be presented with a choice to add files to an existing <code>Project</code>, or create a new <code>Project</code>. </p> <p></p> <p>Since this is data for the same project, choose the \"Breast Cancer Drug Treatment Genomics\" <code>Project</code>.</p> <p>Then proceed through the rest of the wizard using this setup.</p> <ul> <li>Create a new Experiment with name \"Herceptin\", and ID \"Herceptin\".</li> <li>Create a new Dataset with the name \"Raw\", and ID \"Herceptin-Raw\".</li> <li>Data files: Add the <code>.fastq</code> files in the tutorial data folder, under <code>tutorial/herceptin/</code>. Once finished, your editor should look like this.</li> </ul> <p></p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#save-your-progress","title":"Save your progress","text":"<p>Instrument Data Wizard keeps all your data structure and annotations in an YAML-formatted ingestion file. This file is read by the Instrument Data Service ingestion process to find all your data files. It needs to be saved in the root folder of your data.</p> <p>Click the Save button, and save your ingestion file under the tutorial data folder. Name it <code>ingestion.yaml</code>. </p> <p>Note</p> <p>Remember to save your changes as you work! As the Instrument Data Wizard is still being developed, bugs and crashes may happen at inopportune moments. After a crash, you can reopen the file using the <code>Open</code> button.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#exercise-add-even-more-data","title":"Exercise: Add even more data","text":"<p>Try to re-create the hierarchy in the Instrument Data Wizard as described in the :ref:<code>example data structure plan &lt;sample-data-structure-plan&gt;</code>.</p> <p>Once finished, your editor should look like this.</p> <p></p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#annotate-your-data-with-metadata","title":"4. Annotate your data with metadata","text":"<p>Now that your files are imported and organised, you can start annotating them. This step is vital to make the most use of the Instrument Data Service.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#basic-metadata-fields","title":"Basic metadata fields","text":"<p>In Instrument Data Service, there is a basic set of metadata fields applicable for any Projects, Experiments, Datasets or Datafiles. They are fields like <code>name</code>, <code>ID</code>, <code>author</code> and <code>institution</code>.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#additional-metadata-with-schemas","title":"Additional metadata with Schemas","text":"<p>In addition, you can attach more metadata to a Project, Experiment, Dataset or Datafile through <code>Schemas</code>. They are made up of custom metadata fields called <code>Parameters</code>. You can specify the <code>Parameter</code> name and the value data type (for example, you can restrict the value to be a number, a string of characters, or a date.) </p> <p><code>Schemas</code> need to be defined in Instrument Data Service before you can use them in Instrument Data Wizard. </p> <p>A Project, Experiment, Dataset or Datafile can have multiple <code>Schemas</code> associated with them.</p> <p>What can I store in Schemas?</p> <p>You can associate domain- or instrument-specific metadata with a Project, Experiment, Dataset or Datafile using <code>Schemas</code>. One way to use <code>Schema</code> could be to describe the study or treatment you have applied to the sample. Alternatively, you may wish to note down the instrument configuration used for acquiring data. For example, data from a sequencer may benefit from a <code>Schema</code> with depth of sequencing and sequencing method as <code>Parameters</code>.</p> <p>It's best to create a data dictionary document with your collaborators to specify what metadata should be stored. See data dictionary. </p> <p>As part of onboarding, Instrument Data Service can support you in creating a data dictionary, and create any <code>Schemas</code> for your research group. Contact Chris Seal for more information.</p> <p>In the Instrument Data Wizard, first select the Project, Experiment, Dataset or Datafile you wish to edit, then you can change metadata on the right-hand pane.</p> <p></p> <p>The <code>Description</code> tab contains the basic metadata fields, while the <code>Metadata</code> tab contains the <code>Schema</code> metadata fields.</p> <p>At the moment, the Instrument Data Wizard accepts free-text <code>Parameter</code> names and values.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#recording-sarahs-metadata","title":"Recording Sarah's metadata","text":"<p>As Sarah, you have two things you need to include in the metadata. You need to note down the instrument the sequencing was done on, and the sequence depth used. In genetics, sequence depth measures the completeness of the sequencing process.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#adding-the-instrument-id","title":"Adding the instrument ID","text":"<p>To record the instrument, you first need to find the instrument's persistent identifier (PID). For Sarah, the sequencing company has given her the ID <code>http://hdl.handle.net/21.T11998/0000-001A-3904-0</code>.</p> <p>Where can I find my instrument's persistent identifier?</p> <p>You can log in to the Instrument Data Service web portal to find the ID. See here.</p> <p>Instrument is a basic metadata field, so you can find it in the <code>Description</code> tab, as the <code>Instrument ID</code> field.</p> <p>After filling out the field, the editor should look like this.</p> <p></p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#adding-the-sequence-depth","title":"Adding the sequence depth","text":"<p>You have decided with your team that sequence depth should be recorded as a <code>Schema Parameter</code> on each <code>Experiment</code>, with the name <code>Depth of sequencing</code>, and value as an integer.</p> <p>Try adding 100 as the sequence depth for the Herceptin <code>Experiment</code>. Once finished, your editor should look like this.</p> <p></p> <p>If you need to delete a <code>Parameter</code> row, select that row, then click the <code>Remove</code> button.</p> <p>Keep your <code>Schema</code> names and values consistent</p> <p>Record <code>Parameter</code> names and values consistently, using the same letter casing and units. This will help with finding your data in the future. For example, if you have a <code>Parameter</code> representing a length, decide on the name (e.g. \"distance\", no uppercase) and the value unit (e.g. millimetre), and use them consistently.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#exercise-adding-more-metadata","title":"Exercise: Adding more metadata","text":"<ol> <li> <p><code>Lead Researcher</code> is another basic metadata field on <code>Projects</code>. Try adding yourself as the lead researcher in the <code>Project</code>, using Sarah's University username <code>skau921</code>.</p> <p>Your editor should look like this:</p> <p></p> </li> <li> <p>For the Herceptin experiment, there was an error in the sequencing process. You would like to mark it as inaccurate. Decide on how you would represent this, then annotate the experiment.</p> <p>This is one way you may like to add this:</p> <p></p> </li> </ol>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#restrict-access-to-your-data","title":"5. Restrict access to your data","text":"<p>In the Instrument Data Wizard, you can define which users or groups of users have access to your data in the Instrument Data Service. </p> <p>Instrument Data Service has a cascading access control mechanism which allows you to apply restrictions on which users or groups of users can access a file or a group of files. Permissions granted at a higher level of the hierarchy will cascade down to all the files nested in it unless explicitly overridden.</p> <p>Users must have an account created in Instrument Data Service in order to access the data.</p> <p>Adding Restrictions on your own data</p> <p>Think about who needs to be able to access your data. What kind of access should they have? If there's a subset of the data that should be accessible to more or fewer people, how should they be organised?</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/guide/#save-the-ingestion-file","title":"6. Save the ingestion file","text":"<p>Once you are finished organising and annotating your data, you can save the ingestion file for the last time. Ensure to save the ingestion file in the root of your data folder.</p> <p>Your data folder should look like this.</p> <p></p> <p>We are finished! When your data is copied and ingested into Instrument Data Service , the ingestion file will be examined for a list of data files, how they should be structured, metadata associated with them, and access control properties. If there are any errors or validation problems in the process, you will be notified.</p> <p>This is the end of this introductory tutorial. Please contact Chris Seal for any further questions.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Storage/IDS/markdown/access-rights/","title":"Different roles and their access rights","text":"<p>The Instrument Data Service (IDS) is designed to support different roles in a research project. The following table provides an overview of the different roles and their access rights.</p> Role Access Rights super-admin can do all admin cannot do this facility manager has access to analytics, can create groups Project Owner has to ask for groups to be created by Facility Manager or CeR; can add people Project Team Member can edit all data visible to him, might not see all <p>Instrument Data Service has a cascading access control mechanism that allows you to apply restrictions on which users or groups of users can access a file or a group of files. Permissions granted at a higher level of the hierarchy will cascade down to all the files nested in it unless explicitly overridden.</p> <p>Users must have an account created in Instrument Data Service in order to access the data.</p> <p>Access can be different per each level of PEDD; it gets inherited unless stated otherwise</p> <p>These are additive rights which also affect the search, for example, if user has no sensitive-metadata-access hits of the search in sensitive-metadata are not presented as search results: - default - metadata only (only fields that are not sensitive)  - sensitive metadata access (field by field basis) - download (if not part of sensitive; you wouldn't see it) - admin (allows to share; PI gets this by default; not necessarily the sensitive metadata, e.g. NHI number where a 3<sup>rd</sup> party does the de-identification) make public/share with group/share with person</p> <p>If you are in multiple groups, these are summed (union of n sets)</p> <p>Public access (within the UoA sphere; logged-in through SSO) and metadata only</p> <ul> <li>Access is controlled either on per person or per group; we highly recommend per group</li> <li>currently PI (skipping the Facility Manager; every person that is in admin group has the right to allow devolved responsibility; all people in the admin group can modify access to the data and request additional groupings to access that data) send email to CeR and request a group</li> <li>if you give someone admin rights, you give them the ability to modify access to the data</li> <li>Request by a member: add this statement: As part of this request, we will seek permission from the PI or nominated admins in order to provide access (Chain of Custodiy)</li> <li>in the long-run: have a ticket queue in AskIT specific to IDS (- in the very long run: Have a token to access a shared PEDD without VPN)</li> <li>groups can have management authority over other-groups</li> <li>PI can hand over access control to another group of his PhD and get an admin group for them; then the PhD can add based on UPI </li> </ul>"},{"location":"Research%20Data/Data%20Storage/IDS/markdown/benefits-and-changes/","title":"Benefits of using the Instrument Data Service (IDS)","text":"<p>The IDS is beneficial if your instrument generates a lot of data. The following benefits are applicable for all roles, Facility Managers are expected to get even more out of using the IDS.  Overall, using the IDS might entail some changes to existing workflows, but after some initial setup this shall be overcompensated by the benefits.</p> Supporting peace of mind by providing a real backup <ul> <li>File transfers are verified (checks that files weren't corrupted while being moved from one location to another); afterward, data is stored on magnetic tape which is in general considered a secure storage option (no spinning disk components to fail, etc)</li> <li>Storing follows the WORM principle (Write-Once-Read-Many), with no accidental overwriting (even if analysis tasks use that data and accidentally overwrite these inputs, you can roll back to the raw/untouched copy) this also implies following the Tidy Data principles</li> <li>Therefore, prevention against ransomware attacks (where attackers commonly encrypt your data and only decrypt it after paying for it), is also provided as there is no write-aceess to this data stored on magnetic tape. Ultimately, if you decide to encrypt your data, it is of utmost importance to remember the password you used. </li> </ul> You are in charge of granting access in a very finely granular fashion <ul> <li>You do not have to wait on other services/service providers. You can find and add users just by entering their UPI to a project you administer.</li> <li>Access rights can be given in a very finely granular way;  Consider the example of a clinical trial with identifiable data; you can decide only to share meta-data (e.g., how many participants, their age, \u2026) with collaborators but not the data in itself. This might be suitable for collaborators just requiring to be aware that other datasets exist or you can even mark parts of the meta-data as sensitive (not sharing the age, gender, etc. with all contributors)</li> </ul> Use metadata efficiently <ul> <li>in this context, we refer to metadata as the data about the data, more details to be found here</li> <li>Using metadata enables you to filter and only display results relevant to your current needs. </li> <li> <p>enriching your core data by metadata will not only simplify finding and filtering data within your projects, but also potentially relevant data created by others; in case they decided to share (meta)data. If applicable (e.g., not restricted by ethics concerns), you might not need to redo others\u2019 experiments or, if you decide to do so, have more data to compare your results against.</p> </li> <li> <p>In the ongoing IDS development, we collaborate with researchers across disciplines to derive relevant metadata-schemas that shall streamline metadata usage to make your life as a researcher wrangling data easier. </p> </li> </ul> Supports good research principles <ul> <li>The IDS supports following the FAIR principle which states that (meta)data should Findable, Accessible, Interoperable and Reproducible; ideally also by machines/ If data is classified within the IDS as 'public data', this enables you to combine it with other datasets. You might not have to redo an experiment if someone else has already done it; if you redo it, you get a better comparison dataset. You will always have access to a copy of the raw data for the purposes of transparency, reproducibility, or verifying provenance.</li> <li>Aspects of Tidy Data are: Keeping an untouched copy of the raw data; having a proper backup;  and makeing use of metadata which is all facilitates by using the IDS. </li> </ul> Additional Benefits for Facility Managers <ul> <li>Project-based administration as opposed to Principal Investigators (POs) and Research Drive-based.</li> <li>Instead of having to provide access rights on a file-and-folder basis, you are empowered to use groups and let access controls and other administrative specifics be inherited. </li> <li>You can generate analytics about who uses what instruments and how often. </li> <li>This can support decision-making on new purchases and might facilitate justification of aspects or the whole service. Without the need to manually generate such reports. </li> </ul>"},{"location":"Research%20Data/Data%20Storage/IDS/markdown/benefits-and-changes/#anticipated-changes-to-existing-workflows","title":"Anticipated changes to existing workflows","text":"<ul> <li>You need to familiarise yourself with a new tool/environment</li> <li>Some initial setup is required (setting up groups per facility, etc.)</li> <li>The service is intended for raw data only; processed results will need to be stored as per the usual workflows and infrastructure. Some exceptions to this rule are expected if your analysis is so computationally or time-consuming that pipeline-based results will be treated as a fictitious instrument following the same mechanisms described above</li> <li>Several University of Auckland-specific mechanisms for fostering cybersecurity are incorporated, which limits the potential for external collaboration.  </li> <li>As the IDS potentially involves sensitive data while widening the user base, granting more rights (e.g. to add users with certain data visibility permissions), intentionally limilts the ability to share data with collaborators. Though their access isn\u2019t impossible, it usually involves the creation of a University of Auckland ID (UPI), Virtual Private Network (VPN) access, etc. </li> </ul>"},{"location":"Research%20Data/Data%20Storage/IDS/markdown/structure/","title":"Data Structure","text":"<p>The IDS is based on a hierarchical structure that is used to organise data, especially meta-data, so data about the data (with more information to be found here)</p> <p>The four levels of the IDS are: - Project - Experiment - Dataset - (Data)File</p> <p>The first letters of these form the acronym PEDD. The following diagram shows the hierarchy and examples per level: </p> <p></p> <p>Only at the core of this model, we can see the data files that represent the raw data. </p> <p>The data files are the most granular level of the IDS. The outer layers represent metadata, as files are grouped into datasets, which are in turn grouped into experiments. Experiments are grouped into projects. Metadata entries, so to say Properties are inherited. </p> <p>Metadata should be captured or added at the level where it encompasses the most commonality (if all Experiments were carried out at the same temperature, then this temperature only needs to be entered at the Experiments level once, and the underlying Dataset or (Data)File inherit this). Following this principle and making use of inheritance minimises effort and also minimises the risk of errors by not repeatedly typing-in the same information.</p> <p>At each level of the hierarchy and at the individual file level, there are mandatory metadata fields that you can use to describe your data. There is also the ability to associate a custom metadata schema at each level, which allows you to record any relevant domain-specific observations and variables. The Instrument Data Service Search functionality allows you to filter for data based on metadata.</p>"},{"location":"Research%20Data/Data%20Storage/IDS/markdown/structure/#how-to-use-the-ids-data-structure","title":"How to use the IDS data structure","text":"<p>As the three top levels of the IDS hierarchy reflect meta-data, you anticipate what parts of a given research project you will restrict access to and this might also influence your decision on how to structure your data.</p> What should I use as an identifier for my Project? <ul> <li>Usually, there should be one(!) Project that corresponds to the research project or unit of research activity that you are collecting data for.</li> <li>an externally-assigned identifier such as a Research Activity ID (RAID), if available.</li> <li>your institution's project code for the project, if available</li> <li>The project name or another unique designation.</li> </ul> What should I use as an identifier for my Experiment? <ul> <li>Usually, an Experiment is based on a single study-sample or aggregates all Datasets/(Data)Files that are related to a specific research property   </li> <li>A code for the experiment, if your research group has a coding system for individual experiments.</li> <li>The experiment name or another unique designation.</li> </ul> What should I use as an identifier for my Dataset? <ul> <li>Usually, a Dataset is based on a single instrument or aggregates all (Data)Files that are related to a specific research property, for example, the run-conditions </li> <li>A code for the dataset, if your research group has a coding system for individual datasets.</li> <li>The dataset name or another unique designation</li> <li>The identifier must be unique across all Datasets. There may be cases where you want to use the dataset name as the identifier, and there are similarly named Datasets. For example, you may have two experiments that use the same microscopy instrument, and the acquired images are stored in a Dataset in each Experiment, both named \"Microscopy\". To keep the identifiers unique, you can prefix the two identifiers with the identifier of the Experiment the dataset falls under, to distinguish between them.</li> </ul> What should I use as an identifier for my Files? <ul> <li>Usually, these names are not to be altered directly, but are generated by the instrument or software that creates the data files.</li> </ul> <p>TODO: Decide if we want to put a copy of [this] here. (https://uoa-eresearch.github.io/cer-documentation/Research%20Data/Data%20Storage/IDS/Wizard/Tutorial/02-decide-structure/#sample-data-structure-plan)</p>"},{"location":"Research%20Data/Data%20Storage/IDS/markdown/underlying/","title":"Underlying Concept","text":"<ul> <li>the idea is to remove the need and the cumbersome workflows that are currently around shared faculty or research drives</li> <li>the IDS is designed to be a centralised data storage solution for research data</li> <li>it is designed to be a secure, scalable, and cost-effective solution for storing large volumes of research data</li> <li>the focus on raw data implies a baseline/single source of truth that can be referenced. </li> <li>the use of magnetic</li> </ul>"},{"location":"Research%20Data/Data%20Storage/Research%20Drive/01-research-drive/","title":"Research Drive","text":"<p>Research Drives are Network drives that are managed by Waipapa Taumata Rau The University of Auckland and within our firewall. A detailed comparison can be found here. </p> <p>To highlight some important aspects, Research Drives are the preferred option if your data...</p> <ul> <li>... is sensitive and your Ethics Approval requires you to store it on a managed system (and/or) within New Zealand</li> <li>... shall be easily accessible from a Virtual Machine (LINK) or a HPC (LINK)</li> </ul>"},{"location":"Research%20Data/Data%20Storage/Research%20Drive/01-research-drive/#how-to-get-access-to-a-research-drive","title":"How to get access to a Research Drive","text":"<p>For  - On-campus | wired connection (=Ethernet = LAN-cable)   - no VPN required  - On-campus | WiFi connection    - VPN required  - Off-campus | Wired or WiFi connection    - VPN required </p> <p>Mac  Linux  Windows</p>"},{"location":"Research%20Data/Data%20Storage/Research%20Drive/General-allocation-notice-Codelab/","title":"Option a) Codelab - Accessing your Research Drive","text":"","tags":["ResDrive","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/General-allocation-notice-Codelab/#background","title":"1. Background","text":"<p>This guide will help you to access/mount/map your Research Drive on your computer.  It is assumed that you have already requested a Research Drive and that it has been allocated to you. If you have not yet requested a Research Drive, please see the Research Hub for more information.</p> <p>Depending on the operating system you use (i.e., Windows()/Linux()/MacOS()), the steps to access your Research Drive will be slightly different.</p> <p>Info</p> <p>we have to decide if we want  - tabs  - expandable boxes - 3 different pages (3x Codelab)</p> Windows Linux MacOS  <ul> <li>Open your Windows Explorer (Win+E) </li> <li>Navigate to 'This PC' </li> <li></li> <li>Make sure your 'View' is set to 'Details' (or use the keyboard shortcut Ctrl+F1 ) </li> <li>Click on 'Map Network Drive'<ul> <li></li> </ul> </li> <li>For the <code>Drive</code> letter, choose a letter that is not already in use (e.g., `R:``)</li> <li>For the <code>Folder</code> please enter your Research Drive location (e.g., <code>\\\\files.auckland.ac.nz\\research\\**your_team_folder**</code>)<ul> <li>please pay close attention to the backslashes (<code>\\\\</code>) and make sure not to use forward slashes (<code>/</code>) in the path for Windows</li> <li>tick  the option 'Reconnect at sign-in'</li> <li>click on <code>Finish</code></li> <li></li> </ul> </li> <li>When you\u2019re done, you should see the new drive letter under <code>This PC</code> and will be able to access its contents like you would any other folder. If you want to disconnect the network drive, right-click on it and select <code>Disconnect</code>.</li> <li></li> </ul> <p>You need to have sudo privileges to mount network drives. Prerequisites <code>cifs-utils</code> and create a mount directory [required once]</p> <p>On Ubuntu VM, run:</p> <p></p><pre><code>sudo apt-get update\nsudo apt-get install cifs-utils\n</code></pre> On Red Hat VM, run: <pre><code>sudo yum update\nsudo yum install cifs-utils\n</code></pre> <p>Below is a script you can use to mount a research drive.</p> <p>Make sure you adjust the name of your drive in the variable <code>drive_name</code> at the beginning of the script to your needs.</p> <pre><code>drive_name=\"rescer201800002-cer-researchfolder-test\"\nshare=\"//files.auckland.ac.nz/research/${drive_name}\"\n\n# unifiles doesn't work with smb versions earlier than 2.1, and smb version 2.1 has some issues with caja file manager\n# we therefore specify smb version 3.0, introduced with Windows 8 / Windows Server 2012\nsmb_version=\"3.0\"\n\nmountpoint=\"${HOME}/${drive_name}\"\ncommon_options=\"iocharset=utf8,workgroup=uoa,uid=${USER},dir_mode=0700,file_mode=0700,nodev,nosuid,vers=${smb_version}\"\noptions=\"username=${USER},${common_options}\"\n\nmkdir -p ${mountpoint}\nsudo mount -t cifs \"${share}\" \"${mountpoint}\" -o \"${options}\"\nif [ \"$?\" -gt \"0\" ]; then\n  rmdir ${mountpoint}\nfi\n</code></pre> <p>If you save this code in the file <code>~/mount_drive.sh</code> and give it executable permissions via <code>chmod u+x ~/mount_drive.sh</code>, you can then run the script like this:</p> <pre><code>~/mount_drive.sh\n</code></pre> <p>To unmount a network drive:</p> <pre><code>sudo umount -l ${HOME}/rescer201800002-cer-researchfolder-test\n</code></pre> <p>Make sure you adjust <code>${HOME}/rescer201800002-cer-researchfolder-test</code> to the location you used when you mounted the research drive</p> <ul> <li>Open the <code>Finder</code> </li> <li>click on <code>Go</code> on the top menu bar and <code>Connect to Server</code> or use the shortcut Cmd+K </li> <li>Enter your Research Drive location (e.g., <code>smb://files.auckland.ac.nz/research/your_team_folder</code>)</li> <li>Make sure that you use forward slashes (<code>/</code>) and not backslashes (<code>\\\\</code>) </li> <li>Click <code>+</code> to add the server address to the Favourite Servers section for later use.</li> <li>Enter your user name (UPI) and password and click Connect </li> <li>When you connect to the network drive a shortcut can be found on the Desktop </li> <li>In the <code>Finder</code> side menu, you can also see the network drive under <code>Locations</code></li> </ul>","tags":["ResDrive","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/Windows-allocation-notice-Codelab/","title":"Accessing your Research Drive on a Windows Computer","text":"","tags":["ResDrive","Windows","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/Windows-allocation-notice-Codelab/#background","title":"1. Background","text":"<p>This guide will help you to access/mount/map your Research Drive on your computer.  It is assumed that you have already requested a Research Drive and that it has been allocated to you. If you have not yet requested a Research Drive, please see the Research Hub for more information.</p> <p>This section focuses on Windows() the steps to access your Research Drive on a computer running Linux() or MacOS() will be slightly different.</p> <p>Info</p> <p>this is the version used to access a ResDrive from a Windows computer as one single Codelab showing off the stepping</p>","tags":["ResDrive","Windows","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/Windows-allocation-notice-Codelab/#preparation","title":"2. Preparation","text":"<ul> <li>Open your Windows Explorer (Win+E) </li> <li>Navigate to 'This PC'</li> <li></li> <li>Make sure your 'View' is set to 'Details' (see screenshot below or use the keyboard shortcut Ctrl+F1 )</li> <li>Click on 'Map Network Drive'</li> </ul>","tags":["ResDrive","Windows","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/Windows-allocation-notice-Codelab/#the-map-network-drive-dialogue","title":"3. The Map Network Drive dialogue","text":"<ul> <li>For the <code>Drive</code> letter, choose a letter that is not already in use (e.g., `R:``)</li> <li>For the <code>Folder</code> please enter your Research Drive location (e.g., <code>\\\\files.auckland.ac.nz\\research\\**your_team_folder**</code>)<ul> <li>please pay close attention to the backslashes (<code>\\\\</code>) and make sure not to use forward slashes (<code>/</code>) in the path for Windows</li> <li>tick  the option 'Reconnect at sign-in'<ul> <li>click on <code>Finish</code></li> </ul> </li> <li>When you\u2019re done, you should see the new drive letter under <code>This PC</code> and will be able to access its contents like you would any other folder. If you want to disconnect the network drive, right-click on it and select <code>Disconnect</code>.</li> </ul> </li> </ul>","tags":["ResDrive","Windows","beginner"]},{"location":"Research%20Data/Data%20Storage/Research%20Drive/allocation-notice/","title":"Research Drive Allocation Notice","text":""},{"location":"Research%20Data/Data%20Storage/Research%20Drive/allocation-notice/#allocation-notice","title":"Allocation Notice","text":"<p>For internal use, to be deleted once the system goes live/researcher-facing</p> <ul> <li>this is the message that the <code>eres</code> command gives for ResDrive (similarly for Dropbox)</li> <li>the intention for having it here is that we can easily find it when a new researcher is added to an existing drive and needs support; we have to decide if we want the main text (and updates) to live here in the documentation or on the command-line or if we just add a link to the command-line <code>eres drive allocation notice   project_groups.json</code></li> <li>the wording should include \"Kia ora\" and \"Ng\u0101 mihi\", special characters should be removed (currently there is an <code>obj</code> object in there. )</li> </ul> <p>The current allocation notice is generated based on this template.</p>"},{"location":"Research%20Data/Data%20Storage/Research%20Drive/allocation-notice/#goals","title":"Goals","text":"<ul> <li>replace \"Dear...\" with \"Kia ora ... Ng\u0101 mihi\"</li> <li>agree on the wording <ul> <li>Research Drive</li> <li>Research Network Drive</li> <li>Network Research Drive</li> <li>clearly state that this is not the same as a Faculty drive (P: drive, ...) but only the CeR-provided ones</li> <li>map drive, mount drive, connect drive, access drive</li> </ul> </li> <li>mention early that VPN is required for off-campus access<ul> <li>this seems to be the official and hopefully not-breaking but frequently updated link</li> </ul> </li> <li>replace \"The location of the folder is:\" with three distinct sections<ul> <li>Windows</li> <li>Mac and Linux</li> </ul> </li> <li>Why are there two guides for Windows?<ul> <li>why does the first one start with \"Network drives include your Unifiles home folder, Unifiles research drives and other network file systems that start with \\machine_name. This tutorial will mount your Unifiles home folder \\files.auckland.ac.nz\\myhome to F: drive on Windows.\" Do we need this?</li> <li>the second link talks about mapping Faculty drives</li> </ul> </li> <li>This part is unclear; where does that go? We need screenshots: Note: In particular, when you are accessing your research drive from off-campus, your username must be entered as \"uoa\\your_upi_here\"</li> <li>Is this important? Please note: for system compatibility, your drive name has been lowercased.</li> <li>do we want to mention Vault? Archive?</li> <li>do we want to mention Globus?<ul> <li>if so, do we want to still link to this documentation by NeSI?</li> </ul> </li> <li>should mounting a ResDrive on a VM already be covered in this first notice?</li> <li>do we want to link to https://eresearch-dashboard.auckland.ac.nz/service/research-storage/request or just to the Research Hub?</li> <li>do we want to discuss details of access (no sub-folder-specific access rights but just whole ResDrive with <code>r-o</code> or <code>r-w</code>) in this first message?</li> <li>do we want to include a fixed time frame (so if I don't hear back from you until next Friday, I will close this ticket by then?)</li> </ul>"},{"location":"Research%20Data/Data%20Storage/Research%20Drive/allocation-notice/#current-allocation-notice","title":"Current allocation notice","text":"<pre><code>Dear {{ requester_name }},\n\nYour university network research drive team folder \"{{ team_folder }}\" has\nnow been set up as requested.\n\nPlease note: for system compatibility, your drive name has been lowercased.\n\nThe location of the folder is:\n\n* Windows: \\\\files.auckland.ac.nz\\research\\{{ team_folder }}\n* Mac and Linux: //files.auckland.ac.nz/research/{{ team_folder }}\n\nA guide for mapping drives to such locations can be found here:\n* Windows:\n    - https://uoa-eresearch.github.io/vmhandbook/doc/map-drive-windows.html\n    - https://uoaprod.service-now.com/kb_view.do?sysparm_article=KB0010125\n* Mac: https://uoaprod.service-now.com/kb_view.do?sysparm_article=KB0012883\n* Linux: https://uoa-eresearch.github.io/vmhandbook/doc/mount-drive.html\n\nIf you will be accessing the drive from off-campus, please read:\n* Off-Campus: https://uoaprod.service-now.com/kb_view.do?sysparm_article=KB0010878\n\nNote:\n  In particular, when you are accessing your research drive from off-campus, your username must be entered as \"uoa\\your_upi_here\".\n\nPlease have a go at mapping and using the folder and let me know if you encounter any issues.\nYou may need to log off and log back in to see the changes.\n\nOutside of your allocation, your main folder also has two additional sub-folders called \"Vault\" and \"Archive\".\nThese folders are for data that you do not currently work on but may need in the future.\n\n\"Vault\"\n    access is slightly slower than your normal disk storage,\n    ideal for data that you have finished working on but would like to come back to every few months.\n    Data stored here is periodically moved to object-store, and once moved, does not count against your allocation.\n\"Archive\"\n    access is slower again,\n    good for data that you may not use but would like to keep safe,\n    e.g. to comply with your ethics requirements.\n    Data stored here is periodically moved to tape, and once moved, does not count against your allocation.\n\nYou can use globus (globus.org) to transfer data between your research drive and NeSI and other globus endpoints -\n(documentation at https://support.nesi.org.nz/hc/en-gb/articles/4405623380751).\nIf you want this access for your team, please provide us with their UPIs.\n\nIf you also have a research virtual machine (vm) provided by the Centre for eResearch,\nyou can map the drive onto the vm according to the type of vm, as above (Windows or Linux cases).\nWe recommend that you move data off your research vm onto the research-drive after you have\ncompleted your analysis, and consider storing it in the Vault or Archive folders as appropriate.\n\ufffc\nAccess\n\nWe have granted read-only/read-write access to those you have requested:\nread-write:\n\nThis access is uniform right across the drive - finer-grained access cannot be provided.\nIf you wish to add or revoke access to your drive, please make a request at\nhttps://eresearch-dashboard.auckland.ac.nz/service/research-storage/request for\nan __existing__ drive, providing relevant University emails or\nusernames (UPI) and level of access (read-only/read-write).\n\nWhen you have satisfactory access to your storage drive, please let us know\nso that we can close this ticket.\n\nIn the meantime, please get back to me if you have any questions or difficulties.\n</code></pre>"},{"location":"Research%20Data/Data%20Storage/Video%20Compression/BatchCompression/","title":"Batch Video Compression","text":"<p>Pro:</p> <ul> <li>in many cases: same video/audio quality perceived by a human at a fraction of file size required</li> <li>smaller file size</li> <li>easier to handle</li> <li>less power consumption</li> <li>backup in itself</li> <li>no changes to existing folder sturcture (your videos stay in the same place as they are, just with a different file extension)</li> </ul> <p>Con:</p> <ul> <li>needs manual labor (but can be automated)</li> <li>doesn't work for certain files (rare; talk to us if in doubt)</li> <li>computational intensive process (but we supply the hardware; Virtual Machines (VMs))</li> <li>can be corrupted (but we have a backup)</li> </ul>"},{"location":"Research%20Data/Data%20Transfer/Globus/","title":"Globus","text":"<p>Globus is a tool designed to facilitate file transfers. After some initial setup, you won't be required to log-in to a multitude of services, transfers happen fast and if the connection is interrupted, they are automatically resumed (within certain limits). </p> <p>There are two versions of Globus:</p> <ul> <li>the server-version: Globus that is also called the Data Transfer Node (DTN), Globus Server or Globus Endpoint</li> <li>a client-version that you can install on your physical computer (or VM) called Globus Connect Personal</li> </ul> <p>Usually, one side (or endpoint) has to be a server; in other words: Transfer GCP to GCP do not work. There are exceptions, please get in touch.</p> <p>Globus is a web-based tool that allows you to upload and download data. It is also possible to use the command line to transfer data, but this is more complicated.</p> <p>Info</p> <ul> <li>We want to adapt the efforts at Stanford</li> <li>especially https://globus.stanford.edu/scenarios.html</li> <li>And NeSI</li> </ul>"},{"location":"Research%20Data/Data%20Transfer/how-to-get-access-to-globus/","title":"How to get access to Globus","text":"<ul> <li>CeR has to add you to the DTN user group if you want to access your research drive</li> <li>We also need to associate the particular Research Drive with your UPI</li> <li>For every addition, we need to you to 'reactivate the Endpoint' logging in and out. LINK!</li> </ul>"},{"location":"Research%20Data/Data%20Transfer/how-to-get-data-from-someone/","title":"How to get Data **from** someone","text":"<ul> <li>the other party has either to share the data with you by running Globus Connect Personal on their computer or they have to provide you with a Globus Endpoint</li> <li>you will need to access it</li> </ul>"},{"location":"Research%20Data/Data%20Transfer/how-to-get-data-to-someone/","title":"How to get Data **to** someone","text":"<ul> <li>for external collaborators, these need to obtain a Globus account (which is either provided by their institution or they have to create one on the <code>globus.com website</code>)</li> <li>you can share it</li> </ul> <p>Bug</p> <p>reflect on our learning from Zoe and what she had to do</p>"},{"location":"Research%20Data/Data%20Transfer/how-to-reactivate-the-endpoint/","title":"How to reactivate the endpoint","text":"<p>This is often needed when a new reseearch drive was added or a user was granted different access rights. At times even after an update.</p> <p>Bug</p> <p>We should upload the video to Youtube</p>"},{"location":"Research%20Data/Data%20Transfer/how-to-speed-up-file-transfers/","title":"How to speed up file transfers","text":"<p>While Globus is designed with a focus on fast data transfers, there are some things you can do to speed up your transfers.</p> <ul> <li>use a wired (ethernet-cable) connection, ideally come to Campus, make sure that WiFi is disabled, especially on a Mac both can run simultaneously</li> <li>try not to use the VPN if possible </li> <li>for extreme use-cases, you might be able to make use of the CeR 10GBit connection</li> </ul>"},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/","title":"How to use Globus in general","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#getting-started","title":"1. Getting started","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#codelab-how-to-use-globus","title":"2. Codelab how to use Globus","text":"<ul> <li>log in to the website</li> <li>authentication</li> <li>what the two windows mean</li> <li>what an endpoint means</li> <li>iterate how GPC vs. Globus works</li> <li>how to share data</li> </ul>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#one-time-setup","title":"One-time Setup","text":"<p>Request a Globus account from the Research Hub</p> <p>Go to the website </p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#globus-connect-personal","title":"Globus Connect Personal","text":"<p>Globus Connect Personal is a piece of software that you can install on your computer to make it a Globus Endpoint. This means that you can transfer data to and from your computer using Globus.</p> <p>An overview per system is provided here, details follow below.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#windows","title":"Windows","text":"<ul> <li>download the installer from here</li> </ul>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#linux","title":"Linux","text":"<ul> <li>often best to use the non-gui version</li> <li>maybe link to the scripts that Martin F and Jens have written</li> <li>user accounts on Nectar</li> </ul>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#mac","title":"Mac","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#understanding-the-interface","title":"Understanding the interface","text":"<p>Overall, Globus file transfers can be understood as two Windows Explorer or Mac Finder or other File Navigator windows that are put side by side. One window shows the files on the source endpoint, the other window shows the files on the destination endpoint.</p> <p>It doesn't matter what is placed to the left or right side, still it might make it easier for you to have the source (where you want to get data from on the left) and the destination (where you want to deposit data) on the right side.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#logging-in-to-various-endpoints","title":"Logging in to various endpoints","text":"","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#dtn-and-nesi","title":"DTN and NeSI","text":"<p>For this example, we assume that we have a file on our Research Drive (link to how to get that mounted) that we want to transfer to NeSI. This is quite common for the start of a research project data analysis stage. Then we process files on the NeSI HPC. Then we want to transfer the analysis results back to the Research Drive.</p>","tags":["example","beginner"]},{"location":"Research%20Data/Data%20Transfer/how-to-use-globus-in-general/#dtn-and-gcp","title":"DTN and GCP","text":"<p>For this example, we assume that we want to receive some research data from a collaborator who is not part of an organisation that has access to a DTN (LINK TO THE THEORY BIT)</p>","tags":["example","beginner"]},{"location":"Research%20Visualisation/ResearchVis/","title":"Research Visualisation","text":""},{"location":"Research%20Visualisation/ResearchVis/#sample-projects","title":"Sample projects","text":""},{"location":"Research%20Visualisation/ResearchVis/#how-to-get-in-touch","title":"How to get in touch","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/","title":"Research Visualisation Booking","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/#how-to-borrow-equipment","title":"How to borrow equipment","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/#how-to-get-inspiration-from-existing-projects","title":"How to get inspiration from existing projects","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/#how-to-get-custom-code","title":"How to get custom code","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/#how-to-get-insights-into-data","title":"How to get insights into data","text":""},{"location":"Research%20Visualisation/ResearchVisBooking/#how-to-communicate-data","title":"How to communicate data","text":""},{"location":"codelab/","title":"What is this","text":"<p>A Google Codelab is a multi-step tutorial creation system.</p>"},{"location":"codelab/#challenges","title":"Challenges","text":"<ul> <li>Confronting a learner (or any person seeking help) with one wall of text is likely to be confronting.</li> <li>This presented solution (i.e., MkDocs Material Theme) originates from writing smaller-scale tutorials or Code References.</li> <li>For some but not all anticipated documentation items, smaller and more digestible to be consumed in a linear fashion are needed</li> <li>Nectar Tutorials are a good example</li> </ul>"},{"location":"codelab/#identified-solution","title":"Identified solution","text":"<ul> <li>Instead of creating such a solution from scratch or developing an implementation/Plug-In, we can use Google Codelabs).</li> </ul> <p>codelab: false author: \"Anonymous Penguin\" title: Exclusion test hide:   - tabs</p>"},{"location":"codelab/#getting-started","title":"Getting started","text":"<p>By default, the codelab considers a H2 heading as a new step.</p> <p>Bare minimum *.md codelab page:</p> <pre><code>---\ncodelab: true\n---\n\n# My Lab's Title\n\n## This becomes Step 1\n\nHello world\n\n## This becomes Step 2\n\nBlah blah\n</code></pre>"},{"location":"codelab/guide/","title":"Example Codelab","text":"","tags":["example","beginner"]},{"location":"codelab/guide/#getting-started","title":"1. Getting started","text":"","tags":["example","beginner"]},{"location":"codelab/guide/#one-time-setup","title":"One-time Setup","text":"<ol> <li>Clone this repo</li> <li>cd into newly cloned repo</li> <li><code>pip install -r requirements.txt</code></li> <li>Run <code>./update.sh</code> ( ) or <code>.\\update.ps1</code> ()</li> </ol>","tags":["example","beginner"]},{"location":"codelab/guide/#mkdocs-requirements","title":"Mkdocs Requirements","text":"<p>In mkdocs.yml, have the required properties:</p> <pre><code>theme:\n  name: material\n  custom_dir: codelab\n\nmarkdown_extensions:\n  - attr_list\n  - pymdownx.superfences\n</code></pre> <p>Create a bare minimum docs/*.md codelab page:</p> <pre><code>---\ncodelab: true\n---\n\n# My Lab's Title\n\n## This becomes Step 1\n\nHello world instructions for Task 1\n\n## This becomes Step 2\n\nBlah blah for Task 2\n</code></pre> <p>By default, the codelab considers the H2 heading as a new step. Content under a <code>##</code> (Heading 2) until the next H2 is considered a step.</p>","tags":["example","beginner"]},{"location":"codelab/guide/#yaml-frontmatter","title":"2. YAML frontmatter","text":"<p>Explicitly set a title, author, report link and date. The date can also be rendered with git revision date.</p> <pre><code>---\ntitle: Example Workshop\nauthor: \"Anonymous Penguin\"\nrevision_date: 2022-01-10\nreport_bugs: http://endless.horse/\ncodelab: true\ndescription: |\n  This section takes **markdown.** It's part of the introductory header.\n\n  Hello! Lorem Ipsum\n---\n\n## This becomes Step 1\n\nHello world\n\n## This becomes Step 2\n\nBlah blah\n</code></pre> <p>There is an optional <code>description</code> field which lets you put an introduction at the top of a codelab.</p>","tags":["example","beginner"]},{"location":"codelab/guide/#hide-tabs","title":"Hide tabs","text":"<p>If the tabs feature enabled, you can hide tabs on a particular page:</p> <pre><code>---\nhide:\n  - tabs\n---\n</code></pre>","tags":["example","beginner"]},{"location":"codelab/guide/#mkdocs-configuration","title":"3. Mkdocs Configuration","text":"<p>In mkdocs.yml:</p> <pre><code>theme:\n  name: material # Mkdocs Material is the base theme\n  custom_dir: codelab # folder to overrides, in this case 'codelab'\n  report_bugs: to:an@email.com # url for the Bug Report button\n  global: true # default false\n\nplugins:\n  - search\n  - codelab:\n      auto_number: true # Whether to auto-number sections\n      delimiter: 'h2'\n</code></pre> Property Description global If enabled, then all pages will have the codelab theme, unless <code>codelab: false</code> frontmatter property is specified. By default this option is <code>false</code>. report_bugs Set the default URL for Report a Mistake. auto_number Headings will automatically be numbered, and wrong numbers will be corrected according to their logical order. delimiter A CSS selector to segregate steps in the stepper. By default \\&lt;h2&gt;, or in markdown, the double pound <code>## Heading</code> is the delimiter.","tags":["example","beginner"]},{"location":"codelab/guide/#global","title":"Global","text":"<p>Exclude a page from the Codelab Theme by setting <code>codelab</code> to <code>false</code> in the page's frontmatter:</p> <pre><code>---\ntitle: This page isn't a lab\ncodelab: false\nreport_bugs: 'www.example.com' # this will override the link set in the config file\n---\n\nHello everyone...\n</code></pre>","tags":["example","beginner"]},{"location":"codelab/guide/#set-a-custom-delimiter","title":"Set a custom delimiter","text":"<p>Make sure to include the <code>attr_list</code> Markdown extension.</p> <pre><code>markdown_extensions:\n  - attr_list\n\nplugins:\n  - search\n  - codelab:\n      delimieter: '[step]'\n</code></pre> <p>Then in a markdown page, assign attributes to a heading.</p> <pre><code>---\ncodelab: true\nauthor: Anonymous Penguin\n---\n\n# My Lab's Title\n\n## This becomes Step 1 { step }\n\nHello world\n\n## This becomes Step 2 { step }\n\nBlah blah\n\n# This doesn't count\n\nUsing more than one H1 is not recommended, but the plugin can handle it.\n\n## This doesn't count\n\nJust in case\n\n## Here is another step { step=3 }\n\nThis will be step 3\n</code></pre> <p>Only the headings marked with <code>{ step }</code> will become steps in the tracker:</p> <p></p> <p>Additional examples:</p> ClassHeading Level and ClassAttributeMultiple Delimeters <pre><code>plugins:\n  - codelab:\n      delimiter: '.my-class'\n</code></pre> <pre><code>---\ncodelab: true\nauthor: Anonymous Penguin\ntitle: My Lab\n---\n\n## This becomes Step 1 { .my-class }\n\nHello world\n\n### This becomes Step 2 { .my-class }\n\n1. Text and list items won't count as a heading or a step.\n  { .my-class }\n2. Substep\n3. Substep\n</code></pre> <pre><code>plugins:\n  - codelab:\n      delimiter: 'h2.my-class'\n</code></pre> <pre><code>---\ncodelab: true\nauthor: Anonymous Penguin\ntitle: My Lab\n---\n\n## This becomes Step 1 { .my-class }\n\nHello world\n\n## This becomes Step 2 { .my-class }\n\nBlah blah\n\n### H3 won't be a step { .my-class }\n</code></pre> <pre><code>plugins:\n  - codelab:\n      delimiter: '[duration]'\n</code></pre> <pre><code>---\ncodelab: true\nauthor: Anonymous Penguin\ntitle: My Lab\n---\n\n## This becomes Step 1 { duration=1:00 }\n\nHello world\n\n## This becomes Step 2 { duration=5:00:00 }\n\nBlah blah\n\n# This becomes Step 3 { duration=6:00 }\n\nUsing more than one H1 is not recommended, but the plugin can handle it.\n</code></pre> <pre><code>plugins:\n  - codelab:\n      delimiter: 'h2, [step], [duration]'\n</code></pre> <pre><code>---\ncodelab: true\nauthor: Anonymous Penguin\ntitle: My Lab\n---\n\n## This becomes a step\n\nHello world\n\n### This becomes a step { step }\n\nHello world\n\n### This becomes a step { duration=6:00 }\n\nHello world\n</code></pre>","tags":["example","beginner"]},{"location":"codelab/guide/#duration-calculated","title":"4. Duration calculated","text":"<p>Optional: set the duration attribute for steps to calculate the estimated time.</p> <pre><code>## Wash the dishes { duration=\"10:00\" }\n\nEtc...\n</code></pre> <p>You can set durations for list items and paragraphs, too.</p> <pre><code>## Wash the dishes\n\n1. Grab a towel.\n    { duration=1:00 }\n2. Run it around the rim.\n    {duration=1:00 }\n\nOptional: Grab Barkeeper's Friend and some gloves for powerwashing tea stains.\n{ duration=5:00 }\n</code></pre> <p>Note that all durations will be added together, so the step duration is not needed.</p>","tags":["example","beginner"]},{"location":"codelab/guide/#finishing-touches","title":"5. Finishing touches","text":"","tags":["example","beginner"]},{"location":"codelab/guide/#printing","title":"Printing","text":"<p>The theme is configured to have a print version. Press Ctrl+P to take a look.</p>","tags":["example","beginner"]},{"location":"codelab/guide/#references","title":"References","text":"<ul> <li>Google</li> <li>Google</li> <li>Google</li> </ul>","tags":["example","beginner"]},{"location":"projects/DocumentationArchitecture/","title":"Index","text":""},{"location":"projects/DocumentationArchitecture/#the-existing-documentation","title":"The existing Documentation","text":"System Audience Content Description Goal (A) CeR Website External-facing Mainly contains Service Description and Annual Report, Our People Promotion (B) Research Hub Researcher-facing Mainly contains abstract Service Description Actionable (create a ticket, consultation, etc.) (C) Nuclino Internal-/staff-facing Mainly contains **how-to-guides **(for BAU and/or onboarding) phase out (D) MSTeams/Sharepoint Internal-/staff-facing Mainly contains presentations, HR instructions internal data sink (E) VM-Handbook/CeRServides Handbook Internal-/staff-facing Mainly contains presentations, HR instructions replace with new solution"},{"location":"projects/DocumentationArchitecture/#design-and-content-principles","title":"Design and Content Principles","text":"<p>Before we dive into the technical details, we need to define some principles that will guide our work:</p> <ul> <li>(Do not Repeat Yourself) DRY principle shall be followed as much as possible; cost-benefit trade-offs migh be necessary, in principle, changes in one place shall propagate everywhere else, ideally with no manual interaction</li> <li>we want to minimise the number or platforms/outlets</li> <li>a consistent look and feel shall be achieved</li> <li>ideally, design-aspects are inherited by several 'outlets'</li> <li>cer-documentation: researcher-facing, mostly detailed how-to-guides, with a very clear target-audience<ul> <li>IDS-documentation: Will be a sub-section? researcher-facing, mostly detailed how-to-guides, with a very clear target-audience</li> <li>IDS-reference:  developer-facing, a docstring-based autogenerated reference material</li> </ul> </li> <li>there should be an experienced user overview and then collapsible boxes for the details</li> </ul> Example for a collapsible <p>Within this box, we provide more details that would bore/distract advanced users and might disrupt the overall narrative, if a novice needs this kind of detailed information, it is just one click away</p>"},{"location":"projects/DocumentationArchitecture/#some-theory","title":"Some theory","text":"<p>Based on Noel's link and the resulting Youtube talk, there are four types of documentation:</p> Category Description Example Tutorials Learning-Oriented with Practical Steps for Studying e.g. \"How to navigate Photoshop\" How-to-guides Problem-Oriented with Practical Steps for Working e.g. \"How to achieve one certain goal\" Reference Information-Oriented about theoretical knowledge e.g. \"Glossary-style, boring documentation/VSC-help\" Explanation Understanding-Oriented about theoretical knowledge e.g. \"Abstract discussion why the software is like this\" <p>Most of what we will do is 'how-to-guides'.</p>"},{"location":"projects/DocumentationArchitecture/#game-plan","title":"Game Plan","text":"<ul> <li>Scan what documentation we have, remove/adjust/add if gap is identified</li> <li>what do we have/want</li> <li>who is responsible for<ul> <li>creating/updating content</li> <li>approving</li> </ul> </li> <li>Agree on a structure</li> <li>what what is parent-child?</li> <li>what terminology?</li> </ul> <p>LINK TO THE EXCEL SHEET - add one template for emails that needs to update and then be fed into the CLI <code>eres drive allocation notice   project_groups.json</code></p> <pre><code>flowchart TD\n    A[Wesbite]\n    B[ResHub] --&gt;|links to| F[cer-documentation]\n    C[Nuclino] --&gt;|CONNECT accessible | X[Wiki]\n    C --&gt;|e.g. HR tuts.| D[MSTeams]\n    E[VMHandbook] --&gt;|filtered/upated| F  \n</code></pre>"},{"location":"projects/DocumentationArchitecture/#simple-charts","title":"Simple charts","text":"<p>These few lines of code generate the chart below.</p> <pre><code>flowchart TD\n    A[Wesbite]\n    B[ResHub] --&gt;|links to| F[cer-documentation]\n    C[Nuclino] --&gt;|CONNECT accessible | X[Wiki]\n    C --&gt;|e.g. HR tuts.| D[MSTeams]\n    E[VMHandbook] --&gt;|filtered/upated| F  \n</code></pre> <pre><code>flowchart TD\n    A[Wesbite]\n    B[ResHub] --&gt;|links to| F[cer-documentation]\n    C[Nuclino] --&gt;|CONNECT accessible | X[Wiki]\n    C --&gt;|e.g. HR tuts.| D[MSTeams]\n    E[VMHandbook] --&gt;|filtered/upated| F  \n</code></pre>"},{"location":"projects/DocumentationArchitecture/#questions","title":"Questions","text":"<ul> <li>how to make design inheritable across GHRepos</li> <li>how to link md files several times (DRY principle) but not having to manually create a navigation?</li> <li>maybe a blog</li> <li>or replace</li> <li>do we want to switch operating systems (similar to a langnage switcher)?</li> <li>where to include ToCs</li> <li>how to have collapsible boxes</li> <li>where to store video? Youtube vs. x</li> <li>where to store training material</li> <li>DReSA (mostly Australia-focused)</li> <li>Figshare (get DOI but have to revision a lot?)</li> <li>Panopto (hard to link to, as part of Canvas/SSO?)</li> <li>how to get a broken link checker</li> </ul>"},{"location":"projects/DocumentationArchitecture/#why-mkdocs-material-is-cool","title":"Why MKDocs Material is cool:","text":"<ul> <li>language switcher planned misuse for win/osx/linux?</li> </ul>"},{"location":"projects/DocumentationArchitecture/#we-can-get-tabs","title":"we can get tabs","text":"CC++ <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n  printf(\"Hello world!\\n\");\n  return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n  std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#admonitions-aka-call-outs","title":"Admonitions aka Call-Outs","text":"<p>This is my title of the note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> These can also be collapsible <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p>"},{"location":"projects/DocumentationArchitecture/#types-to-select-from","title":"Types to select from","text":"<p>Types</p> <p>For a lot of how-to-guides, you need to let users know what keys to press. There is the <code>&lt;kbd&gt;</code> tag, but by including <code>pymdownx.keys</code> we can make our lives easier: Some examples, fenced by the <code>++</code> characters:</p> <ul> <li>Ctrl+Alt+Del</li> <li>Cmd+Fn+Del</li> <li>Left Button</li> <li>Middle Button</li> <li> <p>Right Button</p> </li> <li> <p>Up</p> </li> <li>Down</li> <li>Left</li> <li>Right</li> <li>Page Up</li> <li>Page Down</li> <li>Home</li> <li>End</li> <li>Tab</li> </ul> <p>To add a custom label, you simply include this with double inverted commas</p> <p>My Text</p>"},{"location":"projects/DocumentationArchitecture/#code-annotation-examples","title":"Code Annotation Examples","text":""},{"location":"projects/DocumentationArchitecture/#codeblocks","title":"Codeblocks","text":"<p>Some <code>code</code> goes here.</p>"},{"location":"projects/DocumentationArchitecture/#plain-codeblock","title":"Plain codeblock","text":"<p>A plain codeblock:</p> <pre><code>Some code here\ndef myfunction()\n// some comment\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#code-for-a-specific-language","title":"Code for a specific language","text":"<p>Some more code with the <code>py</code> at the start:</p> <pre><code>import tensorflow as tf\ndef whatever()\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#with-a-title","title":"With a title","text":"bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#with-line-numbers","title":"With line numbers","text":"<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#highlighting-lines","title":"Highlighting lines","text":"<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"projects/DocumentationArchitecture/#icons-and-emojs","title":"Icons and Emojs","text":"<p>An efficient way of finding fonts in the correct syntax is to use this website</p> <p> </p> <p></p> <p></p> <p></p> <p> ([How to set up Material for MkDocs] by @james-willett)[https://youtu.be/Q-YA_dA8C20?si=Zss-tTEUY2fdGkxI] \u2013  15m \u2013 Learn how to create and host a documentation site using Material for MkDocs on GitHub Pages in a step-by-step guide.</p>"},{"location":"projects/DocumentationArchitecture/#how-to-use-icons","title":"How to use Icons","text":"<ul> <li>MKDocs comes with a lot of icons</li> <li>they are in the theme folder <code>../venv/lib/python3.11/site-packages/material/templates/.icons/</code></li> <li>an efficient way to find the icon you want is to check this website</li> <li>to use them, you need to adapt the syntax a bit: </li> <li>for example: you would find</li> <li><pre><code>switch.my_switch:\nfriendly_name: My Switch\nicon: mdi:account-arrow-down-outline\n</code></pre></li> <li>and you will use the following part of the last line: <code>account-arrow-down-outline</code>, this gets the prefix <code>material-</code> and is fenced by the <code>:</code> character before and after. So you write this code <code>:material-account-arrow-down-outline:</code></li> <li>to get this icon </li> </ul>"},{"location":"projects/DocumentationArchitecture/#using-variable","title":"Using Variable","text":"<p>My name is John Doe the definition of the variables go in the <code>mkdocs.yml</code> file <code>yaml hl_lines=\"3\"</code></p>"},{"location":"projects/DocumentationArchitecture/#including-images","title":"Including images","text":"<ul> <li>images are stored in the <code>assets</code> folder</li> <li>VSC can provide a relative link</li> <li>the syntax is <code>![useful image](./assets/myimage.jpg)</code></li> <li>you can also use the <code>:width=\"50%\"</code> to resize the image</li> <li>you can also use the hash fragments to make screenshots appear only in light or dark mode<ul> <li><code>#only-light)</code></li> <li>see example below</li> </ul> </li> </ul> <ul> <li>If we feel the need for a slide-show, we can have a look at glightbox</li> <li>We could also try to integrate a Python-based Macro to automatically add a lot of configurations (size, dark/light, alignment left, right, caption, ...)</li> <li>If we need captions, Markdown doesn't support that natively, so we'd have to use html</li> </ul> Image caption"},{"location":"projects/DocumentationArchitecture/#capturing-screen-shots","title":"Capturing Screen Shots","text":""},{"location":"projects/DocumentationArchitecture/#on-a-mac","title":"On a Mac","text":"<p>Cmd+Shift+4 then Space (to select just the window) then while holding Option you click which stores it in the default location</p>"},{"location":"projects/DocumentationArchitecture/#expanding-content","title":"Expanding content","text":"<ul> <li>collapsible boxes (see above) </li> <li>this is also an example of how to reference another section in the same document. Lowercase and hypen instead of spaces. Easy to get this is to load the final documentation. Click the link generation. Copy from the browser URL bar. </li> <li>annotations</li> </ul>"},{"location":"projects/DocumentationArchitecture/#embedding-video","title":"Embedding Video","text":"<ul> <li>might have to go to Youtube because can't be shared from GDrive</li> <li>Panopto won't work either, because one has to log in to Canvas</li> <li>https://streamable.com/ is mentioned as a common alternative</li> <li>not sure if Dropbox would work</li> </ul> <p>One example here</p>"},{"location":"projects/DocumentationArchitecture/#adding-tool-tips-or-abbreviations","title":"Adding tool tips or abbreviations","text":"<p>We can just type out text as per the usual with some acronyms. But as we use <code>*[TLA]: Three Letter Acronym</code> below this isn't shown but once we hover over the text in question, a tip shows up</p> <p>The HTML specification is maintained by the W3C.</p> <p>We can also add this to icons</p> <p></p>"},{"location":"projects/DocumentationArchitecture/#efficiently-capturing-screen-shots","title":"Efficiently Capturing Screen Shots","text":"<p>Install this VSC Extension and adjust the settings as shown in the screen shot below. Afterwards, you can just paste images (take screen shot on MacOS Cmd+Ctrl+Shift+4) into your markdown file by pressing Cmd+Option+V and they will be automatically saved in the <code>assets</code> folder and linked to the markdown file. </p> <p></p>"},{"location":"projects/DocumentationArchitecture/#capturing-one-window-on-macos","title":"Capturing one window on MacOS","text":"<p>After pressing Cmd+Ctrl+Shift+4, press Space and then left-click on the window you want to capture. This will automatically just take a screen shot of the active window which is indicated by the  icon. As per the default, this also includes a drop shadow. You can also remove this shadow by pressing Option after you pressed Space but before left-clicking. </p>"},{"location":"projects/existingVMHandbook/acknowledgement/","title":"How to acknowledge CeR in publications","text":"<p>Please include the following acknowledgement in papers if you wish to acknowledge the services of the Centre for eResearch. Feel free to add to it, or single out particular people to acknowledge if you wish.</p> <p>The author(s) wish(es) to acknowledge the Centre for eResearch at the University of Auckland for their help in facilitating this research. http://www.eresearch.auckland.ac.nz</p>"},{"location":"projects/existingVMHandbook/copy-file-linux/","title":"How to copy files from/to a Linux VM","text":""},{"location":"projects/existingVMHandbook/copy-file-linux/#copy-files-with-sftp","title":"Copy files with SFTP","text":"<p>We recommend to use FileZilla Client to connect to your Linux VM. FileZilla supports Windows, Linux and Mac. Other SFTP clients can also be used. E.g., CyberDuck, WinSCP.  </p> <p>In Site Manager dialog of FileZilla, create a new site and fill in the following information:</p> <ul> <li>Host: the FQDN of your VM.</li> <li>Port: leave it blank</li> <li>Protocol: SFTP - SSH File Transfer Protocol</li> <li>Logon Type: Ask for password</li> <li>User: Your username</li> <li>Password: leave it blank</li> </ul> <p></p> <p>After clicking Connect button, enter password dialog will popup. In this dialog, uncheck the Remember password until FileZilla is closed checkbox, and enter the same password as SSH login.</p> <p></p>"},{"location":"projects/existingVMHandbook/copy-file-linux/#copy-files-with-scp","title":"Copy files with SCP","text":"<p>Linux and macOS systems by default come with a command line SCP client. Windows SCP client is available in MobaXterm and Git bash.</p> <p>There are a lot of in-detail manuals for the scp command to be found on the Internet, here is a quick guide on how to use it normally:</p> <pre><code># Upload the file yourFile.xyz to your home directory on the VM\n$ scp yourFile.xyz username@cerzheprd03.its.auckland.ac.nz:~/.\n\n# Upload the folder yourFolder to your home directory on the VM\n$ scp -r yourFolder username@cerzheprd03.its.auckland.ac.nz:~/.\n</code></pre> <p>Downloading files from your home directory on the login node to your home directory on your local machine is a similar process as shown below:</p> <pre><code># Download the file ~/yourFile.xyz to your home directory on your computer\n$ scp username@cerzheprd03.its.auckland.ac.nz:~/yourFile.xyz ~/.\n\n# Download the folder yourFolder to your home directory on your computer\n$ scp -r username@cerzheprd03.its.auckland.ac.nz:~/yourFolder ~/.\n</code></pre>"},{"location":"projects/existingVMHandbook/disk-full/","title":"Disk or partition is full","text":"<ul> <li>Move docker from system drive<ul> <li>Linux</li> </ul> </li> <li>Move anaconda from system drive</li> </ul> <p>We keep the system drive small to encourage you to work on your external drive. Keeping system files on a different drive than your data is good practice:  your data is kept safe from system failures, and system re-installation is simple.</p> <p>If your system drive is getting full, please start by moving any research data and environments to your external data volume. If you are running docker or anaconda, you are strongly encouraged to move them to your external volume, as outlined below.</p>"},{"location":"projects/existingVMHandbook/disk-full/#move-docker-from-system-drive","title":"Move docker from system drive","text":""},{"location":"projects/existingVMHandbook/disk-full/#linux","title":"Linux","text":"<p>If you have:</p> <ul> <li>an external drive named <code>/dev/vdb1</code> mounted, say, on <code>/mnt/data</code>  (your drive names may vary)</li> <li>it is configured to mount on boot (there is an entry for this drive in /etc/fstab),  </li> <li>it has about 40GB free, </li> </ul> <p>try the following:</p> <pre><code>$ docker ps (to see running docker processes)\n$ (sudo stop docker processes)\n$ sudo systemctl stop docker\n$ mkdir -p /mnt/data/docker\n$ sudo rsync -azv /var/lib/docker/*  /mnt/data/docker/\n$ sudo mv /var/lib/docker /var/lib/docker.old\n$ sudo ln -s /mnt/data/docker /var/lib/docker\n$ sudo systemctl start docker\n$ (start docker process)  (same processes as you stopped at the first step)\n</code></pre> <p>If everything works as expected, </p> <pre><code>$ sudo rm -rf /var/lib/docker.old\n</code></pre>"},{"location":"projects/existingVMHandbook/disk-full/#move-anaconda-from-system-drive","title":"Move anaconda from system drive","text":"<p>See the documentation from anaconda on moving conda environments.</p>"},{"location":"projects/existingVMHandbook/drive-external_collaborators/","title":"External Collaborator Access","text":""},{"location":"projects/existingVMHandbook/drive-external_collaborators/#instructions-for-uoa-staff-member-to-permit-external-collaborators-to-access-research-drives","title":"Instructions for UoA staff member to permit external collaborators to access research drives.","text":"<p>Please follow the steps at this link to </p> <ol> <li> <p>enable your external collaborator to register a UoA username</p> </li> <li> <p>authorize the external collaborator to have access to your research drive</p> </li> </ol> <p>Then you should open a ticket with Connect IT to request that  Centre of eResearch add the external collaborator to the drive's access group.</p>"},{"location":"projects/existingVMHandbook/drive-globus/","title":"Contents","text":"<ul> <li>Contents<ul> <li>Globus Research Drive Access</li> <li>Transfer Errors</li> <li>Endpoint management</li> <li>Performance<ul> <li>Archive (bundle) your files prior to transfer</li> <li>Unpack your files after transfer</li> </ul> </li> <li>Further Reading</li> <li>Footnotes</li> </ul> </li> </ul> <ul> <li> <p>You can use globus to transfer data between your research drive and NeSI (or other public globus endpoints): NeSI documentation</p> </li> <li> <p>You can create a personal endpoint on your Nectar vm and transfer data between your research drive and your nectar vm: Nectar vm data-transfers</p> </li> </ul>"},{"location":"projects/existingVMHandbook/drive-globus/#globus-research-drive-access","title":"Globus Research Drive Access","text":"<p>If you want Globus to access your research drive, please submit a research-drive request, specifying \"existing\" storage, and providing 1. the name of your research drive 2. the usernames (UPI) of those on your team who need globus access to this drive</p>"},{"location":"projects/existingVMHandbook/drive-globus/#transfer-errors","title":"Transfer Errors","text":"<p>You can inspect the logs for your globus transfers from the console in globus:</p> <ol> <li>Select the Activity tab on the LHS of the globus page and then select the job that you want to investigate. </li> </ol> <p> </p> <ol> <li>Select the Event Log tab (highlighted) and view the Fault Events for that job.  You may be able to see the problem with your transfer here.  If this raises issues you can't control, please get in touch with Centre for eResearch. </li> </ol> <p></p>"},{"location":"projects/existingVMHandbook/drive-globus/#endpoint-management","title":"Endpoint management","text":"<p>Occasionally you may attempt to transfer files to/from your research drive, and the drive appears empty. The computer that the globus endpoint <code>University of Auckland Research Data DTN</code> runs from is occasionally restarted, and that may cause your research-drive to appear empty when you browse your drive from globus.</p> <p>In this case, deactivate that endpoint <code>University of Auckland Research Data DTN</code> by  1. selecting the endpoint's details page , and from there: 2. de-activate the endpoint 3. re-activate the endpoint</p> endpoint overview deactivate reactivate <p>Now your files should be visible.</p>"},{"location":"projects/existingVMHandbook/drive-globus/#performance","title":"Performance","text":"<p>From https://portal.xsede.org/data-management:</p> <p>Beyond the capabilities of the network and storage systems involved, the single biggest factor in your transfer performance will be the size of the files being transferred, as there is time spent on the network setting up and tearing down the connection for each file transfer, and for high bandwidth networks like XSEDE this is relatively costly. For example, going from file sizes of 10MB to 1GB can improve your average transfer performance from a few MB/sec to over 1GB/sec. If you need to transfer a large number of files you will get the best performance by first bundling them into a single tar file and copying the single file.</p>"},{"location":"projects/existingVMHandbook/drive-globus/#archive-bundle-your-files-prior-to-transfer","title":"Archive (bundle) your files prior to transfer","text":"<p><pre><code>cd &lt;name_of_directory_containing_files&gt;/..\ntar czvf &lt;bundle_name&gt;.tar.gz &lt;name_of_directory_containing_files&gt;/\n</code></pre> now transfer the file <code>&lt;bundle_name&gt;.tar.gz</code></p>"},{"location":"projects/existingVMHandbook/drive-globus/#unpack-your-files-after-transfer","title":"Unpack your files after transfer","text":"<pre><code>tar xzvf &lt;bundle_name&gt;.tar.gz  #extract into directory named &lt;name_of_directory_containing_files&gt;\n</code></pre>"},{"location":"projects/existingVMHandbook/drive-globus/#further-reading","title":"Further Reading","text":"<ul> <li>further globus documentation</li> <li>Personal Globus Endpoint Configuration</li> </ul>"},{"location":"projects/existingVMHandbook/drive-globus/#footnotes","title":"Footnotes","text":"<ol> <li> <p>This is due to an upgrade of the underlying endpoint software to Globus 5.\u00a0\u21a9</p> </li> </ol>"},{"location":"projects/existingVMHandbook/drive-off-campus/","title":"Access from off campus","text":"<p>Resources on the UoA network are protected by the UoA firewall. This means that by default they are not able to be accessed from off campus. This applies to: - UoA network drives such as Unifiles research drives - Windows &amp; Linux Research VMs - Windows Nectar VMs (but not Linux Nectar VMs)  </p> <p>To access the above resources from off campus:</p> <ul> <li>You need to be connected to the UoA VPN. This enables your computer to communicate with UoA resources as though it were on campus.</li> <li>If you are mapping a research drive for the first time, you need to enter your username as <code>UOA\\your_upi_here</code>.</li> </ul>"},{"location":"projects/existingVMHandbook/drive-off-campus/#connecting-to-the-vpn","title":"Connecting to the VPN","text":"<p>Guides detailing how to install FortiClient and connect to the VPN:</p> <ul> <li>FortiClient guide</li> <li>Windows Video Guide </li> <li>Video Guide </li> </ul> <p>Once you have successfully connected to the UoA VPN, you can refer to the below links for instructions on accessing network drives and VMs.</p>"},{"location":"projects/existingVMHandbook/drive-off-campus/#mapping-your-research-drive","title":"Mapping your research drive","text":"<ul> <li> <p>Mac:</p> <ul> <li>Text Guide</li> <li>Video Guide</li> </ul> </li> <li> <p>Windows:</p> <ul> <li>Text Guide</li> <li>Video guide</li> </ul> </li> </ul>"},{"location":"projects/existingVMHandbook/drive-off-campus/#connecting-to-your-vm","title":"Connecting to your VM","text":"<ul> <li>Connecting to Windows Research VMs</li> <li>Connecting to Linux Research VMs<ul> <li>command line session via SSH</li> <li>graphical session via x2go</li> <li>graphical session via remote desktop client</li> </ul> </li> <li>Connecting to Nectar Windows VMs</li> </ul>"},{"location":"projects/existingVMHandbook/drive-vault-and-archive/","title":"Using the Vault and Archive folders","text":"<p>Your research drive comes with two folders especially for data that is only occasionally accessed, the <code>vault</code> and <code>archive</code> folders.</p> <p></p>"},{"location":"projects/existingVMHandbook/drive-vault-and-archive/#vault","title":"Vault","text":"<p>Access is slightly slower than your normal disk storage, ideal for data that you have finished working on but would like to come back to every few months. Data stored here will be moved to object-store after 21 days, and once moved, does not count against your allocation.</p>"},{"location":"projects/existingVMHandbook/drive-vault-and-archive/#archive","title":"Archive","text":"<p>Access is even slower than the vault folder, and is good for data that you may not use but would like to keep safe, e.g. to comply with your ethics requirements. Data stored here is moved to tape after 21 days, and once moved, does not count against your allocation.</p>"},{"location":"projects/existingVMHandbook/drive-vault-and-archive/#faqs","title":"FAQs","text":"<p>Why does data in my vault/archive folder still count against my research drive storage allocation? There are two circumstances in which this may happen: 1. If you have just moved data into the vault or archive folder, you need to wait for that data to be shifted to slower storage. Data will begin to be shifted to slower storage 21 days after it has remained unopened in the vault or archive folder. Only after the data is successfully shifted will it cease to count against your storage allocation.</p> <ol> <li>If you open a file that is stored in the vault or archive folder, in the background it will be moved onto normal speed storage, and will therefore count against your allocation again. After it has not been opened for 21 days it will again be moved onto slower storage.</li> </ol> <p>Why is data slow to access, even though I have moved it out of the vault/archive folder? If you cut and pasted data to outside the vault or archive folder, this will not have resulted in the data being shifted back to full-speed storage. Data is moved to full-speed storage when you first access it (e.g. when you open a file).</p> <p>How should I move data out of the vault/archive folder? Copying and pasting the data will ensure it is moved to normal speed storage straight away. Once the copying is complete, you can delete the original slow version in vault/archive. If you cut and paste a file out of vault/archive, it will remain on slower storage until you first access the file, e.g. by opening it. </p> <p>Files have a cross on the icon (Windows only) This indicates that a file is on slower storage.</p> <p></p>"},{"location":"projects/existingVMHandbook/dropbox-add-member/","title":"Change access or share a folder","text":""},{"location":"projects/existingVMHandbook/dropbox-add-member/#basic-sharing","title":"Basic Sharing","text":"<p>Researchers cannot share or change access to the top level Dropbox business folders that we provide. However, researchers can share any file or subfolder within the top level folder with anyone they so wish, and doing so won't count against the storage quota collaborators.</p>"},{"location":"projects/existingVMHandbook/dropbox-add-member/#sharing-everything","title":"Sharing Everything","text":"<p>You may wish to share the entire contents of your Dropbox business folder. You cannot share the top level folder, but there is a workaround:</p> <ol> <li>On Dropbox, navigate so you are inside your top level Dropbox business folder.</li> <li>Create a folder called, for example, <code>all data</code>.</li> <li>Move everything else that is in your top level folder to inside <code>all data</code>.</li> <li><code>all data</code> now contains everything, and because it is not the top level folder, you can share it with anyone you want, without it counting against their Dropbox quota.</li> </ol> <p>Structuring your Dropbox folders like this will make sharing all your data with collaborators very simple in the future, and will avoid you needing to make a request to us any time you want to add another person to your Dropbox folder.</p>"},{"location":"projects/existingVMHandbook/dropbox-add-member/#requesting-access","title":"Requesting Access","text":"<p>Access to the top level Dropbox folder that we create for you is controlled by us. This means that if you want to enable access for someone to the topmost level folder itself, you will need to ask us to grant them access, and they will need to have a UPI for us to be able to grant them access. You can request this on the research hub page for requesting storage. </p>"},{"location":"projects/existingVMHandbook/dropbox-connect-accounts/","title":"Connecting business and personal accounts","text":"<p>When we give you a Dropbox business folder, the Dropbox account associated with your UoA email will become your work account. You may wish to connect your personal and work accounts in Dropbox. This makes it easier to move files and folders between the two accounts using your Dropbox desktop client, and enables you to change between accounts without needing to log out then in again.</p> <p>To connect your accounts, please follow the official Dropbox instructions found here. Once your accounts are connected, sign in to both accounts on the Dropbox desktop client on your computer. You can now drag and drop items between your personal and business accounts.Your personal folder will still remain personal after connecting the accounts. However, it will be easier to access both your Auckland University and personal accounts on your computer.</p>"},{"location":"projects/existingVMHandbook/dropbox-licensing/","title":"How Dropbox licenses work","text":"<p>We do not give out Dropbox licenses, primarily. Instead, we create Dropbox business folders that are each associated with a particular research project. When we give researchers access to one of these Dropbox business folders, we also give them a Dropbox license at the same time. This license comes with: - Unlimited storage - The ability to share anything with collaborators, without it counting against their storage quota (so long as the files shared are located within the Dropbox business folder)</p>"},{"location":"projects/existingVMHandbook/dropbox-setting-up/","title":"Getting started with your new Dropbox business folder","text":"<p>Once we have created your Dropbox business folder, you will receive an email (at your UoA email address) inviting you to sign up for a Dropbox business account. This account will provide you with unlimited storage, and access to you Dropbox business folder.</p> <p>If you don\u2019t already have a Dropbox account using your work email address, respond to the email as instructed, signing in via UoA Single-Sign-On.</p> <p>If you already have a Dropbox account using your work email address, please change the email on your other account to another address and then proceed as above. For more info, see Dropbox's instructions on changing your email address for details.</p> <p>Other steps you wish to take may include:</p> <ul> <li>Connecting your personal and work accounts</li> <li>Sharing files or adding other members to your dropbox folder</li> </ul>"},{"location":"projects/existingVMHandbook/ie-proxy/","title":"Set up Internet connection via the UoA proxy server","text":"<p>For security reasons Windows VMs by default don't have access to the Internet. To set up Internet access follow the next steps to configure the proxy server:</p> <ol> <li>Search for proxy in the Windows Search, and open Network Proxy Settings</li> <li>Under Manual proxy setup turn on Use a proxy server</li> <li>In the Address box, type <code>squid.auckland.ac.nz</code>.</li> <li>In the Port box, type <code>3128</code>.</li> <li>You can click to select the Don't use the proxy server for local addresses check box if you do not want the proxy server computer to be used when you connect to a computer on the local network (this may speed up performance). If you need to bypass the proxy server for other connections, click on Advanced where you configured the proxy server and add the address to the list of Exceptions.</li> </ol> <p></p> <p>Note:</p> <ul> <li>This is not a system-wide setting, but needs to be done by every user of the VM that needs access to the Internet.</li> <li>Note that the proxy server is not a full production service and may have downtimes. This solution has worked very well in the past, and it's a good solution if you need occasional Internet access to e.g. install software packages. If you need reliable Internet access on a regular basis please contact research-vm@auckland.ac.nz.</li> <li>If you need Internet access for other tools than your browser, e.g. for pip to install Python packages, or for R to install R packages from repositories outside the University network, please contact research-vm@auckland.ac.nz.  </li> </ul>"},{"location":"projects/existingVMHandbook/ie-proxy/#a-second-method","title":"A Second Method","text":"<p>The above method should work for most software (including web browsers). However, if you find that some software still does not have internet access, you may try the following: 1. Search for cmd in the Windows Search, which should make Command Prompt visible in the search results (don't open Command Prompt yet). 2. Right-click on Command Prompt and click Run as administrator.  3. In command prompt, type <code>netsh winhttp set proxy http://squid.auckland.ac.nz:3128</code>, and press enter </p> <p>Note: - You can only run this command if you are an admin on the VM. - Unlike the first method, this method will change settings for all users. - This method will not work for all applications, but it will fix many applications that cannot access the internet after applying the first method.</p>"},{"location":"projects/existingVMHandbook/increase-resource/","title":"How to increase CPU / RAM / disk of my VM","text":"<p>If you want to increase the CPU, RAM or disk of your VM, please [contact us].</p> <p>Bug</p> <p>How to contact us? Shared email? Research Hub page to be linked?</p> <p>Notice: due to the limited resources in our VM farm, the increase might not be permanent, depending on the amount of resources you request and what you want to do with it.</p>"},{"location":"projects/existingVMHandbook/linux-proxy/","title":"Set up internet connection via the UoA proxy server","text":"<p>For security reasons Linux VMs by default don\u2019t have access to the Internet. To access the internet, the proxy server must be configured.</p>"},{"location":"projects/existingVMHandbook/linux-proxy/#configure-the-proxy-server-for-all-users","title":"Configure the proxy server for all users","text":"<p>To configure this for all users, you must be an admin. 1. Add the following to the bottom of the files <code>/etc/profile.d/squid.sh</code> and <code>/etc/bash.bashrc</code>: <code>export http_proxy=http://squid.auckland.ac.nz:3128</code> <code>export https_proxy=http://squid.auckland.ac.nz:3128</code> <code>export no_proxy=localhost,127.0.0.1,localaddress,.auckland.ac.nz,keystone.rc.nectar.org.au</code></p> <ol> <li> <p>To make sure the added environment variables work properly when using sudo, edit sudoers using the command <code>sudo visudo</code> (don't edit sudoers manually!) and add the following to the very bottom (case sensitive): <code>Defaults env_keep = \"http_proxy https_proxy no_proxy\"</code></p> </li> <li> <p>To see changes, log out then back in again.  </p> </li> </ol>"},{"location":"projects/existingVMHandbook/linux-proxy/#configure-the-proxy-server-for-your-account-only","title":"Configure the proxy server for your account only","text":"<ol> <li>Add the following to the bottom of the file <code>~/.bashrc</code>: <code>export http_proxy=http://squid.auckland.ac.nz:3128</code> <code>export https_proxy=http://squid.auckland.ac.nz:3128</code> <code>export no_proxy=localhost,127.0.0.1,localaddress,.auckland.ac.nz,keystone.rc.nectar.org.au</code></li> <li>Log out then back in again, or in your current shell session run <code>source ~/.bashrc</code></li> </ol>"},{"location":"projects/existingVMHandbook/linux-rdp-client/","title":"Login to a graphical desktop environment with a remote desktop client","text":""},{"location":"projects/existingVMHandbook/linux-rdp-client/#windows-client","title":"Windows Client","text":"<p>Remote Desktop Connection is pre-installed with all Windows versions except home editions. </p> <p>Create a new remote desktop connection. Set the Computer as the VM's host name and User name as your University username.</p> <p>(Note, that the exact look may differ from what you see below if you are using a different version of the remote desktop connection than we used to create this manual)</p> <p></p> <p>Then, click Connect and enter your university password. If you have sudo privileges on the VM you need to use 2-factor authentication for the Password field. Otherwise just type your University password.</p> <p></p> <p>Click 'OK' to connect to the virtual machine.</p>"},{"location":"projects/existingVMHandbook/linux-rdp-client/#mac-client","title":"Mac Client","text":"<p>Download the Microsoft Remote Desktop client from the Mac App Store.</p> <p>Create a new remote desktop connection. Set the PC name as the VM's host name and User name as your University username.</p> <p>(Note, that the exact look may differ from what you see below if you are using a different version of the remote desktop connection than we used to create this manual)</p> <p></p> <p>Then, you can login with your university password. If you have sudo privileges on the VM you need to use 2-factor authentication for the Password field. Otherwise, just type your University password.</p>"},{"location":"projects/existingVMHandbook/linux-rdp-client/#accessing-local-files-and-folders-on-remote-desktop-session","title":"Accessing Local Files and Folders on Remote Desktop Session","text":"<p>To access local files from virtual machines, you need to configure the remote desktop connection settings before connecting to the VM.</p> <p>On Windows, choose your local resources in the settings of your remote desktop connection window.  Notice below the More button at the bottom which takes you to the local devices and resources section which allows resources to be chosen.</p> <p></p> <p>On Mac, Add local resources follow the screen shot below:</p> <p></p> <p>On a Ubuntu virtual machine, you will see these redirected drives on your Desktop by clicking on the icon thinclient_drives:</p> <p></p>"},{"location":"projects/existingVMHandbook/map-drive-mac/","title":"Map network drives to a Mac","text":"<p>Network drives include your Unifiles home folder, Unifiles research drives and other network file systems that start with <code>//machine_name</code>. Mapping a is the process by which your computer is directed to the location of the network drive, so that it can display the contents of the research drive like any other folder on your computer. This tutorial will mount your Unifiles home folder <code>//files.auckland.ac.nz/research/myhome</code> on a Mac.</p> <p>To mount a research drive, you need to use <code>//files.auckland.ac.nz/research/YOUR_DRIVE_NAME</code>, where YOUR_DRIVE_NAME needs to be replaced by the name of your research drive (research drive names look similar to this: rescer201800002-cer-researchfolder-test).</p> <p>If you want to mount some other location, e.g. a faculty drive, you'll need to change the path according to your requirements.</p> <ol> <li> <p>Open Finder and select Go on the menu bar.</p> </li> <li> <p>Click the Connect to Server (shortcut (\u2318K))</p> </li> <li> <p>In the Server Address field, enter <code>smb://files.auckland.ac.nz/research/myhome</code></p> </li> <li> <p>Click + to add the server address to Favourite Servers section for later user.</p> </li> <li> <p>Enter your user name and password and click connect to your network drive.</p> </li> <li> <p>When you connect to the network drive, it will mount on the desktop.</p> </li> </ol> <p>If you want to create an alias, please follow these additional steps:</p> <ol> <li> <p>Press shortcut (\u2318L) on the Network drive or right click it and choose \"Make Alias\".</p> </li> <li> <p>Rename the Alias using the name you would like, like P drive or U drive.</p> </li> </ol>"},{"location":"projects/existingVMHandbook/map-drive-windows/","title":"Map network drives to Windows","text":"<p>Network drives include your Unifiles home folder, Unifiles research drives and other network file systems that start with <code>\\\\machine_name</code>. This tutorial will mount your Unifiles home folder <code>\\\\files.auckland.ac.nz\\myhome</code> to <code>F:\\</code> drive on Windows.</p> <p>To mount a research drive (should you have one), you need to use <code>\\\\files.auckland.ac.nz\\research\\YOUR_DRIVE_NAME</code>, where YOUR_DRIVE_NAME needs to be replaced by the name of your research drive (research drive names look similar to this: rescer201800002-cer-researchfolder-test).</p> <p>If you want to mount some other location, e.g. a faculty drive, you'll need to change the path according to your requirements.</p> <ol> <li> <p>Open File Explorer and select This PC.</p> </li> <li> <p>Click the Map network drive button in the ribbon menu at the top, then select \"Map network drive.\" (This is under the Computer tab, which should open automatically when you go to This PC, as above.)</p> <p></p> </li> <li> <p>Select the drive letter you want to use for the network folder, then enter the path <code>\\\\files.auckland.ac.nz\\myhome\\</code>. Make sure the path exists.</p> <p></p> </li> <li> <p>Confirm your selection and click Finish. You can choose to reconnect to the folder every time you sign in so it's always available to you and, if needed, use a different user account to connect to the folder.</p> </li> </ol> <p>When you're done, you should see the new drive letter under This PC and will be able to access its contents like you would any other folder. If you want to disconnect the network drive, right-click on it and select Disconnect.</p>"},{"location":"projects/existingVMHandbook/mount-advanced/","title":"Contents","text":"<ul> <li>Contents<ul> <li>Persistent Research Drive Mount<ul> <li>set up a credentials file</li> <li>Gather auxilliary information</li> <li>edit /etc/fstab with sudo</li> </ul> </li> <li>Shared Research Drive Access<ul> <li>Superuser setup</li> <li>User access</li> </ul> </li> </ul> </li> </ul>"},{"location":"projects/existingVMHandbook/mount-advanced/#persistent-research-drive-mount","title":"Persistent Research Drive Mount","text":"<p>System maintenance on the vm will cause it to occasionally reboot. This section outlines how to ensure the drive is automatically remounted after reboot.</p>"},{"location":"projects/existingVMHandbook/mount-advanced/#set-up-a-credentials-file","title":"set up a credentials file","text":"<p>Create a file in your home-directory of the vm named (e.g.) <code>.cifs_credentials</code>, and edit it to contain the lines</p> <pre><code>username=&lt;your_UOA_username&gt;\npassword=&lt;your_UOA_password&gt;\ndomain=UOA\n</code></pre> <p>Now protect that file by changing its permissions to give you, and no-one else,  read-only access: <pre><code>chmod 0600 ~/.cifs_credentials\n</code></pre></p>"},{"location":"projects/existingVMHandbook/mount-advanced/#gather-auxilliary-information","title":"Gather auxilliary information","text":"<p>Find your user identity on the vm with the command</p> <pre><code>id\n</code></pre> <p>and observe the values of your uid and gid (user-id and group-id).</p> <p>We assume you mount the drive on your home directory as above, e.g. <code>~/&lt;research_drive_mount_point&gt;</code>.</p>"},{"location":"projects/existingVMHandbook/mount-advanced/#edit-etcfstab-with-sudo","title":"edit /etc/fstab with sudo","text":"<p>Using sudo, edit the file <code>/etc/fstab</code> and append the following line to it, substituting your values:</p> <pre><code>//files.auckland.ac.nz/research/&lt;research_drive_name&gt;  /home/&lt;your_username_on_the_vm&gt;/&lt;research_drive_mount_point&gt;  cifs credentials=/home/&lt;your_username_on_the_vm&gt;/.cifs_credentials,uid=&lt;your_uid&gt;,gid=&lt;your_gid&gt;,users 0   0\n</code></pre> <p>Unmount the research drive in order to test the fstab configuration:</p> <pre><code>sudo mount -av\n</code></pre>"},{"location":"projects/existingVMHandbook/mount-advanced/#shared-research-drive-access","title":"Shared Research Drive Access","text":"<p>(Taken from RedHat documentation)</p> <p>One method of sharing a mount of a research drive is by having an admin user set up the mount with the multiuser option, mounting the drive, and then letting individual users authenticate with cifs using their credentials.</p>"},{"location":"projects/existingVMHandbook/mount-advanced/#superuser-setup","title":"Superuser setup","text":"<ol> <li>A superuser creates the folder /mnt/ with group owner the vm's rw(user) group name: <pre><code>mkdir -p /mnt/&lt;research_drive_name&gt;\nchown &lt;user&gt;:&lt;vm_rw_group_name&gt; /mnt/&lt;research_drive_name&gt;\n</code></pre> <p>2.This superuser then creates a secure credentials file for their access to the research drive:</p> <p>E.g. create the file //.smb.cred to contain the details: <pre><code>user=&lt;UOA_username&gt;\npassword=&lt;UOA_password&gt;\ndomain=UOA\n</code></pre> <pre><code>chmod 0600 /&lt;some_directory_path&gt;/.smb.cred\n</code></pre> <ol> <li>With sudo permissions, edit the file <code>/etc/fstab</code> instructing that the research drive be mounted with these credentials, with the multiuser attribute:</li> </ol> <p><pre><code>//files.auckland.ac.nz/research/&lt;research_drive_name&gt;  /mnt/unifiles   cifs multiuser,sec=ntlmssp,credentials=/&lt;some_directory_path&gt;/.smb.cred,noauto  0 0\nsystemctl daemon-reload\n</code></pre> 4.  A superuser effectively mounts the drive under their username, supplying the credentials file to /etc/fstab.</p>"},{"location":"projects/existingVMHandbook/mount-advanced/#user-access","title":"User access","text":"<p>Any user of the vm who has access to the research-drive (belongs to the appropriate vmuser group) then provides their credentials for the research-drive server (<code>files.auckland.ac.nz</code>) to the kernel\u2019s keyring with the command:</p> <pre><code>cifscreds add -u $USER files.auckland.ac.nz\n</code></pre> <p>They can then access the drive with their permissions in the directory /mnt/"},{"location":"projects/existingVMHandbook/mount-drive/","title":"Mount network drives to Linux VMs","text":"<p>Network drives include your Unifiles home folder, Unifiles research drives and other network file systems that start with <code>//machine_name</code>. This tutorial will mount one of your research drives..</p> <p>If you want to mount some other location, e.g. a faculty drive, you'll need to change the path according to your requirements.</p>"},{"location":"projects/existingVMHandbook/mount-drive/#prerequisites-install-cifs-utils-and-create-mount-directory-required-once","title":"Prerequisites: Install cifs-utils and create mount directory [required once]","text":"<p>You need to have sudo privileges to mount network drives.</p> <p>On Ubuntu VM, run:</p> <pre><code>sudo apt-get update\nsudo apt-get install cifs-utils\n</code></pre> <p>On Red Hat VM, run:</p> <pre><code>sudo yum update\nsudo yum install cifs-utils\n</code></pre>"},{"location":"projects/existingVMHandbook/mount-drive/#mount-a-research-drive","title":"Mount a research drive","text":"<p>Below is a script you can use to mount a research drive (should you have one).</p> <p>Make sure you adjust the name of your drive in the variable <code>drive_name</code> at the beginning of the script to your needs.</p> <pre><code>#!/bin/bash\n\ndrive_name=\"rescer201800002-cer-researchfolder-test\"\nshare=\"//files.auckland.ac.nz/research/${drive_name}\"\n\n# unifiles doesn't work with smb versions earlier than 2.1, and smb version 2.1 has some issues with caja file manager\n# we therefore specify smb version 3.0, introduced with Windows 8 / Windows Server 2012\nsmb_version=\"3.0\"\n\nmountpoint=\"${HOME}/${drive_name}\"\ncommon_options=\"iocharset=utf8,workgroup=uoa,uid=${USER},dir_mode=0700,file_mode=0700,nodev,nosuid,vers=${smb_version}\"\noptions=\"username=${USER},${common_options}\"\n\nmkdir -p ${mountpoint}\nsudo mount -t cifs \"${share}\" \"${mountpoint}\" -o \"${options}\"\nif [ \"$?\" -gt \"0\" ]; then\n  rmdir ${mountpoint}\nfi\n</code></pre> <p>If you save this code in the file <code>~/mount_drive.sh</code> and give it executable permissions via <code>chmod u+x ~/mount_drive.sh</code>, you can then run the script like this: <pre><code>~/mount_drive.sh\n</code></pre></p>"},{"location":"projects/existingVMHandbook/mount-drive/#unmount-a-network-drive","title":"Unmount a network drive","text":"<pre><code>sudo umount -l ${HOME}/rescer201800002-cer-researchfolder-test\n</code></pre> <p>Make sure you adjust <code>${HOME}/rescer201800002-cer-researchfolder-test</code> to the location you used when you mounted the research drive</p>"},{"location":"projects/existingVMHandbook/nesi-access-linux/","title":"Login to NeSI from a Research VM and transfer files via SSH","text":"<p>For security reasons Linux VMs by default don't have access to the Internet. But all University machines, including VMs, have access to the NeSI lander host, so you can log into the lander host or transfer data to and from NeSI just like you do with your desktop computer or laptop.</p> <p>Check this NeSI Support article for details.</p>"},{"location":"projects/existingVMHandbook/nesi-login-windows/","title":"Login (SSH) to NeSI from a Research VM","text":"<p>For security reasons Windows VMs by default don't have access to the Internet. But all University machines, including VMs, have access to the NeSI lander host, so you can log into the lander host or transfer data to and from NeSI just like you do with your desktop computer or laptop.</p> <p>Check this NeSI Support article for details.</p>"},{"location":"projects/existingVMHandbook/ntr-drive/","title":"Contents","text":"<ul> <li>Contents<ul> <li>Research-drive configuration</li> <li>Nectar vm configuration</li> <li>Globus Data Transfers</li> <li>Further Reading</li> </ul> </li> </ul> <p>Nectar vms are located, by default, outside the University of Auckland firewall,  and your research drive is inside that firewall.  For that reason, you cannot currently, generally, mount your research drive on a nectar vm.</p> <p>But the University operates a globus data-transfer node Auckland Research Data DTN outside the firewall giving you access to your research-drive from there. And globus provides one of the fastest ways to transfer large amounts of data.</p> <p>Transferring files between a nectar instance and your research drive using globus requires configuration on both the research-drive and your nectar instance:</p>"},{"location":"projects/existingVMHandbook/ntr-drive/#research-drive-configuration","title":"Research-drive configuration","text":"<p>Submit a research-drive request, specifying \"existing\" storage, and provide 1. the name of your research drive 2. the University of Auckland usernames (UPIs) of those on your team who need globus access to this drive</p>"},{"location":"projects/existingVMHandbook/ntr-drive/#nectar-vm-configuration","title":"Nectar vm configuration","text":"<p>Install a globus personal endpoint on your nectar vm. This installation is specific to the vm's operating system.  Choose appropriately.</p>"},{"location":"projects/existingVMHandbook/ntr-drive/#globus-data-transfers","title":"Globus Data Transfers","text":"<p>With both your research-drive and nectar vm now configured to be accessible through globus,</p> <ol> <li>start the globus personal connect application on your nectar vm (see the installation page  globus personal endpoint for a fully-worked example).</li> <li>in your browser, sign in to globus selecting the \"existing organizational login\"  associated with <code>The University of Auckland</code> (single-sign-on).</li> <li>Proceed to globus's FileManager page, and select the two endpoints you want to connect: * For your research drive:  enter \"Auckland\" in the Collection Search bar, and select <code>Auckland Research Data DTN</code>. Authenticate, and your research drive will be visible. * For your nectar vm: under the \"Your Collections\" tab, select the personal globus endpoint on your nectar vm.   </li> <li>Navigate to the location of your source and target directories, and proceed to transfer files.</li> </ol>"},{"location":"projects/existingVMHandbook/ntr-drive/#further-reading","title":"Further Reading","text":"<ul> <li>further globus documentation</li> <li>Personal Globus Endpoint Configuration</li> </ul>"},{"location":"projects/existingVMHandbook/ntr-gpu-instance/","title":"How to launch and use a GPU instance in Auckland cluster","text":"<p>Note: GPU is NOT available for all Nectar projects. You have to reserve it first. This article is only applicable for the approved Nectar GPU projects. For more information about GPU and machine learning resources available for UoA researchers, please refer to Machine Learning Service on Research Hub.</p>"},{"location":"projects/existingVMHandbook/ntr-gpu-instance/#the-gpu-reservation-system","title":"The GPU reservation system","text":"<p>Before you can launch a GPU instance, you must reserve a GPU first. Login to this website with your university credential</p> <p>Centre for eResearch - GPU Reservation</p> <p>, and you'll see the current availability of all GPUs.</p> <p></p> <p>Follow the instructions to reserve your GPU instance. If your reservation is successful, you'll receive an email, like this one:  </p> <p></p> <p>You can follow the link inside the email to read the instructions on how to launch a GPU instance. </p>"},{"location":"projects/existingVMHandbook/ntr-gpu-instance/#renew-your-reservation","title":"Renew your reservation","text":"<p>We your reservation is approaching to the end date (normally 2 weeks before), you'll receive another email asking you to renew. You can follow the instructions to renew your reservation, if nobody has reserved your GPU. You won't be able to see the renew button until you receive the email. That is, you can not renew your reservation in advance.</p> <p></p>"},{"location":"projects/existingVMHandbook/ntr-gpu-instance/#gpu-reservation-vs-nectar-allocation","title":"GPU reservation v.s. Nectar allocation","text":"<p>There are two separate life cycles: Nectar project allocation lifecycle, and the GPU reservation lifecycle. The nectar project allocation allows you to use nectar services, including VM (without GPU), storage, database, etc. and the GPU reservation allows you to launch a nectar VM with GPU. Since the GPU reservation is built on top of Nectar project allocation, the GPU reservation lifecycle must be within the Nectar project lifecycle.</p> <p>The nectar project allocation lifecycle is managed via the Nectar dashboard, and the GPU reservation lifecycle is managed by the CeR reservation portal, In order to use a GPU VM on Nectar, you need both. So firstly you must ensure you have a valid nectar project allocation, and then, you reserve a GPU reservation to enable GPU usage. What you see on CeR reservation portal is the life cycle of your GPU reservation, not your project allocation. If your GPU reservation expires, your GPU VMs will be deleted, but you can still launch normal Nectar VMs, without GPUs. </p>"},{"location":"projects/existingVMHandbook/ntr-matlab/","title":"How to launch an instance with Matlab pre-installed","text":""},{"location":"projects/existingVMHandbook/ntr-matlab/#matlab-images","title":"Matlab Images","text":"<p>Bug</p> <ul> <li>is this really up to date?</li> <li>what contact to share?</li> </ul> <p>We offer two images with Matlab pre-installed:</p> <ul> <li>UoA-Server2012-MATLAB: Windows Server 2012, Matlab 2018b</li> <li>UoA-Ubuntu1604-MATLAB: Ubuntu Linux 1604, Matlab 2017b</li> </ul> <p>To find these images, login to Nectar Dashboard via Tuakiri. Browse to Project &gt; Compute &gt; Images as shown in the picture below, and enter <code>Matlab</code> in the search box. If there are multiple images, please always choose the latest one, and click the \"Launch\" button to start the new instance wizard.</p> <p></p> <p>Note: You might also find some other community Matlab images, please don't use them and use those start with <code>UoA</code>. If you can not find these images, please contact us and we'll grant you access.</p> <p>Launch a VM with the image, and you'll be able to use Matlab when the VM is active.</p>"},{"location":"projects/existingVMHandbook/ntr-matlab/#matlab-on-linux-vms","title":"Matlab on Linux VMs","text":"<p>You can access the GUI of the Matlab instance via x2go client. Please follow this article to install x2go client.</p> <p>In x2go client, create a new session, and make sure the following items are correctly configured: - Host: the IP address of your VM. - Login: enter <code>ubuntu</code>. - SSH port: enter <code>22</code>. - Use RSA/DSA key for ssh connection: enter the path of your private key. - Session type: select <code>MATE</code> from the dropdown menu.</p> <p>Then, connect with the new session, you should be able to see the graphical user interface of you GPU VM.</p>"},{"location":"projects/existingVMHandbook/ntr-matlab/#matlab-on-windows-vms","title":"Matlab on Windows VMs","text":"<p>To connect to your Windows VM on Nectar, please refer to this article:</p> <p>How to access Windows VMs in Auckland cluster</p>"},{"location":"projects/existingVMHandbook/ntr-onboard/","title":"Nectar On-board Tutorial Videos","text":"<p>The University of Auckland nectar onboarding videos are a series of six short videos intended to provide hands-on instruction with the goal of getting a working Windows virtual machine running on University hardware.</p> <p>In part one we will look at the nectar dashboard and the process of applying for an allocation of resources. For staff and students at the University of Auckland, further guidance for specific needs can be sought by requesting a Virtual Machine consultation through the Research Hub (https://research-hub.auckland.ac.nz).</p>"},{"location":"projects/existingVMHandbook/ntr-onboard/#uoa-nectar-cloud-tutorials","title":"UoA Nectar Cloud Tutorials","text":""},{"location":"projects/existingVMHandbook/ntr-windows/","title":"How to access Windows VMs in Auckland cluster","text":""},{"location":"projects/existingVMHandbook/ntr-windows/#notice","title":"Notice","text":"<p>Due to Microsoft licensing requirements, access to Windows VM on Nectar has a few limitations, including: - Only Windows Servers are available. No desktop Windows is offered. - Only two users can login at the same time. - We can not install and run Microsoft Office on Windows VMs. - You can not share the Windows VM with non-UoA collaborators.</p> <p>If you prefer video tutorials, you can refer to Nectar On-board Tutorial Videos</p>"},{"location":"projects/existingVMHandbook/ntr-windows/#launch-a-windows-instance","title":"Launch a Windows instance","text":"<p>Login to Nectar Dashboard via Tuakiri. Browse to Project &gt; Compute &gt; Images as shown in the picture below, and enter <code>UoA-Server</code> in the search box. You will find the prebuilt images for Windows instances.</p> <p></p> <p>If there are multiple images, please always choose the latest one, and click the \"Launch\" button to start the new instance wizard.</p> <p>In the Details tab, please select <code>auckland</code> from the Availability Zone dropdown box.</p> <p></p> <p>In the Security Groups tab, please make sure you've enabled Remote Desktop Protocol (RDP, port 3389) ingress. </p> <p>Click the \"Launch\" button, and go to Project &gt; Compute &gt; Instances panel, wait until the status of your new instance is Active. It might take 2-10 minutes, depending on the size of your VM. </p> <p>For more information about other VM launching options, security groups, and keys, please refer to the following Nectar tutorials:</p> <ul> <li>Launching Virtual Machines</li> <li>Security groups, the absolute basics</li> <li>Intermediate Security Groups</li> </ul>"},{"location":"projects/existingVMHandbook/ntr-windows/#initialise-your-windows-administrator-account","title":"Initialise your Windows administrator account","text":"<p>Before you can use the Windows VM, you need to set a password for the administrator.</p> <p>Browse to Project &gt; Compute &gt; Instances panel, and click on your instance. In the instance detail page, click Console tab. You'll see a welcome screen like this:</p> <p></p> <p>Click \"Next\" and it will ask you to enter the password for administrator. When administrator's password is set, you can try to login as administrator by clicking the Send CtrlAltDel button on the top right corner.</p> <p></p>"},{"location":"projects/existingVMHandbook/ntr-windows/#remote-login-via-remote-desktop","title":"Remote login via Remote Desktop","text":"<p>Note: you must enable remote desktop protocol port in security groups to be able to remotely login. Also, if you're off-campus, you need to connect to the University VPN first. </p> <p>For Windows desktop, Microsoft Remote Desktop is built-in. For macOS users, download the Microsoft Remote Desktop client from the Mac App Store.</p> <p>You need to find the IP address of your VM to connect to, and it can be found via the instance detail page, as follows:</p> <p></p> <p>Open Microsoft Remote Desktop application, create a new connection, and in the dialogue box, enter your VM's IP address as \"PC name\".</p> <p></p> <p>Connect to your VM, and login with the administrator's credential, you should be able to see the Windows desktop.</p>"},{"location":"projects/existingVMHandbook/remote-desktop/","title":"Login with a remote desktop client","text":""},{"location":"projects/existingVMHandbook/remote-desktop/#windows-client","title":"Windows Client","text":"<p>Remote Desktop Connection is pre-installed with all Windows versions except home editions. </p> <p>Create a new remote desktop connection. Set the Computer as the VM's host name and User name as <code>UOA\\&lt;Your user name&gt;</code>.</p> <p></p> <p>Then, click Connect and enter your university password.</p>"},{"location":"projects/existingVMHandbook/remote-desktop/#mac-client","title":"Mac Client","text":"<p>Download the Microsoft Remote Desktop client from the Mac App Store.</p> <p>Create a new remote desktop connection. Set the PC name as the VM's host name and User name as <code>UOA\\&lt;Your user name&gt;</code>.</p> <p></p> <p>Then, you can login with your university password.</p>"},{"location":"projects/existingVMHandbook/remote-desktop/#accessing-local-files-and-folders-on-remote-desktop-session","title":"Accessing Local Files and Folders on Remote Desktop Session","text":"<p>To access local files from virtual machines, you need to configure the remote desktop connection settings before connecting to the VM.</p> <p>On Windows, choose your local resources in the settings of your remote desktop connection window.  Notice below the More button at the bottom which takes you to the local devices and resources section which allows resources to be chosen.</p> <p></p> <p>On Mac, Add local resources follow the screen shot below:</p> <p></p> <p>On your virtual machine, open Explorer, you will see these redirected drives underneath your Devices and drives area. They will be designated by \"drive letter\" on \"computername\" where computername is your host.</p> <p></p>"},{"location":"projects/existingVMHandbook/ssh-client/","title":"Login to the command-line through ssh","text":""},{"location":"projects/existingVMHandbook/ssh-client/#if-youre-using-mac-or-linux","title":"If you're using Mac or Linux","text":"<p>Use a terminal to log in via ssh:</p> <pre><code>$ ssh &lt;user name&gt;@&lt;VM name&gt;\n</code></pre> <p>If you have admin privileges on the VM (sudo) you need to login through 2-factor authentication. Otherwise, just use your University password to log in.</p> <p>Example:</p> <pre><code>$ ssh abc123@cerdkroprd01.its.auckland.ac.nz\n</code></pre>"},{"location":"projects/existingVMHandbook/ssh-client/#if-youre-using-windows","title":"If you're using Windows","text":"<p>Windows doesn't have a built-in SSH client, we need to install one of the following:</p> <ul> <li>MobaXterm</li> <li>Git bash</li> <li>PuTTY</li> </ul> <p>Open a terminal window, after the installation has completed. Log in. Follow the same steps as Linux.</p> <p>Bug</p> <p>that is not descriptive enough: \"Follow the same steps as Linux.\"</p>"},{"location":"projects/existingVMHandbook/survey/","title":"How to participate CeR yearly survey","text":"<pre><code>TODO: Add content here\n</code></pre>"},{"location":"projects/existingVMHandbook/two-factor-authentication/","title":"Two-factor authentication (aka 2-step authentication)","text":"<p>If you're familiar with 2FA, you can directly go to this direct link and activate Google Authenticator.</p>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#what-is-2-factor-authentication","title":"What is 2-factor authentication","text":"<p>Please refer to : What is 2-factor authentication</p>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#when-do-you-need-to-use-2-factor-authentication","title":"When do you need to use 2-factor authentication:","text":"<p>If you have sudo privileges on a Linux VM you need to log in through 2-factor authentication. Otherwise you can login with your University password.</p>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#how-to-set-up-2-factor-authentication","title":"How to set up 2-factor authentication:","text":"<p>Everybody can use Google Authenticator (phone app) or Authy to provide the 2<sup>nd</sup> factor.</p>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#setting-up-google-authenticator","title":"Setting up Google Authenticator:","text":"<ul> <li>Download Google Authenticator</li> </ul>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#setting-up-authy","title":"Setting up Authy:","text":"<ul> <li>Download Authy</li> </ul>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#how-to-use-2-factor-authentication","title":"How to use 2-factor authentication:","text":"<p>Instead of just typing your password you have to type  <pre><code>&lt;password&gt;&lt;:&gt;&lt;token&gt;\n</code></pre> , where token is provided by pressing the YubiKey or typing the 6- or 7-digit number provided by the Google Authenticator app on your phone.</p>"},{"location":"projects/existingVMHandbook/two-factor-authentication/#references","title":"References","text":"<p>Two-Factor Authentication</p>"},{"location":"projects/existingVMHandbook/vm_post_upgrade/","title":"Post Ubuntu VirtualMachine OS Upgrade","text":"<ol> <li> <p>Any third-party applications you have previously installed may need to be reinstalled.  Libraries these applications depend on have been upgraded and your applicaiton may need to be upgraded too.</p> </li> <li> <p>Python virtual environments will generally need to be re-installed.  The steps involved are - assuming you are already in the root directory of your project, and the virtual environment is installed in a dedicated subdirectory, <code>venv</code>:</p> <ol> <li> <p>record the packages in the environment </p> <pre><code>$ source venv/bin/activate\n(venv) $ pip freeze &gt; frozen_requirements.txt\n(venv) $ deactivate\n</code></pre> </li> <li> <p>remove the directory tree containing the environment If you had installed your virtual environment in a dedicated directory venv,</p> <pre><code>$ rm -rf venv/\n</code></pre> <p>Or, if your virtual environment is not in a dedicated directory, so you can see directories <code>bin</code>, <code>lib</code>, <code>share</code>, <code>include</code> in your root project directory</p> <pre><code>$ rm -rf bin lib include share\n</code></pre> </li> <li> <p>create a new virtual environment with the version of python you want to use</p> <pre><code>$ python3 -m venv venv\n(venv) $ source venv/bin/activate\n</code></pre> </li> <li> <p>re-install the packages recorded in your <code>frozen_requirements.txt</code> file:</p> <pre><code>(venv) $ pip install -r frozen_requirements.txt\n</code></pre> </li> </ol> </li> </ol>"},{"location":"projects/existingVMHandbook/vm_post_upgrade/#references","title":"References","text":"<p>python_anywhere - rebuilding virtual environments</p> <p>Changes to that documentation: *   with python3 on your system, and no system <code>python</code> command:     use the command</p> <pre><code>python3 -m venv &lt;venv_name&gt;\nsource &lt;venv_name&gt;/bin/activate\n</code></pre>"},{"location":"projects/existingVMHandbook/vm_windows_ansys/","title":"Running Ansys on Windows VM","text":"<p>If you encounter issues with ANSYS solvers running out of memory, uncheck this setting to remove the default manual solver memory limit, and allow the system to use disk as virtual memory.</p> <p></p>"},{"location":"projects/existingVMHandbook/x2go-client/","title":"Login to a graphical desktop environment through X2Go","text":""},{"location":"projects/existingVMHandbook/x2go-client/#download-and-install-x2go-client","title":"Download and install X2GO client","text":"<p>Please follow this article.</p>"},{"location":"projects/existingVMHandbook/x2go-client/#configure-a-connection-to-your-vm","title":"Configure a connection to your VM","text":"<p>After starting the X2GO client, first create a new session:</p> <p>docs/projects/existingVMHandboo/cer-documentation/assets/x2go_screenshot1.png</p> <p></p> <p>On the session tab, give your session a meaningful name and write the name of the VM into the \"Host\" field and your user name into the \"Login\" field. Make sure you choose MATE from the \"Session type\" selection menu.</p> <p></p> <p>On the Media tab, please disable \"Sound\" and \"Client side printing support:</p> <p></p> <p>Then click Ok. The new session will then show up on the right side of your X2GO client window.</p>"},{"location":"projects/existingVMHandbook/x2go-client/#login","title":"Login","text":"<p>To log in, click the session you need. If you have sudo privileges on the VM you need to use 2-factor authentication for the Password field. Otherwise just type your University password.</p>"}]}